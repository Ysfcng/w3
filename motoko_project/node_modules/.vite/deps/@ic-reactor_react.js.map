{
  "version": 3,
  "sources": ["../../zustand/esm/middleware.js", "../../zustand/esm/vanilla.js", "../../@ic-reactor/core/dist/utils/helper.js", "../../@ic-reactor/core/dist/utils/constants.js", "../../@ic-reactor/core/dist/utils/candid.js", "../../@ic-reactor/core/dist/utils/principal.js", "../../@ic-reactor/core/dist/utils/agent.js", "../../@ic-reactor/core/dist/utils/index.js", "../../@ic-reactor/core/dist/classes/actor/index.js", "../../@ic-reactor/core/dist/createActorManager.js", "../../@dfinity/identity/src/identity/ed25519.ts", "../../@dfinity/identity/src/identity/ecdsa.ts", "../../@dfinity/identity/src/identity/partial.ts", "../../@dfinity/identity/src/identity/delegation.ts", "../../@dfinity/identity/src/identity/webauthn.ts", "../../@dfinity/identity/src/index.ts", "../../@dfinity/auth-client/src/idleManager.ts", "../../idb/build/wrap-idb-value.js", "../../idb/build/index.js", "../../@dfinity/auth-client/src/db.ts", "../../@dfinity/auth-client/src/storage.ts", "../../@dfinity/auth-client/src/index.ts", "../../@ic-reactor/core/dist/classes/agent/index.js", "../../@ic-reactor/core/dist/createAgentManager.js", "../../@ic-reactor/core/dist/createReactorStore.js", "../../@ic-reactor/core/dist/createReactorCore.js", "../../@ic-reactor/core/dist/classes/adapter/index.js", "../../@ic-reactor/core/dist/createCandidAdapter.js", "../../@ic-reactor/core/dist/classes/index.js", "../../@ic-reactor/core/dist/classes/agent/types.js", "../../@ic-reactor/core/dist/classes/actor/types.js", "../../@ic-reactor/core/dist/classes/adapter/types.js", "../../@ic-reactor/core/dist/classes/types.js", "../../@ic-reactor/core/dist/types.js", "../../@ic-reactor/core/dist/index.js", "../../zustand/esm/vanilla.mjs", "../../use-sync-external-store/cjs/use-sync-external-store-shim.development.js", "../../use-sync-external-store/shim/index.js", "../../use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.development.js", "../../use-sync-external-store/shim/with-selector.js", "../../zustand/esm/index.js", "../../@ic-reactor/react/dist/helpers/agentHooks.js", "../../zustand/esm/react/shallow.js", "../../@ic-reactor/react/dist/utils.js", "../../@ic-reactor/react/dist/helpers/actorHooks.js", "../../@ic-reactor/react/dist/helpers/authHooks.js", "../../@ic-reactor/react/dist/helpers/extractActorContext.js", "../../@ic-reactor/react/dist/helpers/extractAgentContext.js", "../../@ic-reactor/react/dist/helpers/index.js", "../../@ic-reactor/react/dist/createReactor.js", "../../@ic-reactor/react/dist/context/agent/create.js", "../../@ic-reactor/react/dist/context/agent/provider.js", "../../@ic-reactor/react/dist/context/agent/hooks/useAgent.js", "../../@ic-reactor/react/dist/context/agent/hooks/useAgentState.js", "../../@ic-reactor/react/dist/context/agent/hooks/useAgentManager.js", "../../@ic-reactor/react/dist/context/agent/hooks/useAuth.js", "../../@ic-reactor/react/dist/context/agent/hooks/useAuthState.js", "../../@ic-reactor/react/dist/context/agent/hooks/useUserPrincipal.js", "../../@ic-reactor/react/dist/context/agent/index.js", "../../@ic-reactor/react/dist/context/adapter/create.js", "../../@ic-reactor/react/dist/context/adapter/provider.js", "../../@ic-reactor/react/dist/context/adapter/hooks/useCandidAdapter.js", "../../@ic-reactor/react/dist/context/adapter/index.js", "../../@ic-reactor/react/dist/hooks/useActor.js", "../../@ic-reactor/react/dist/context/actor/create.js", "../../@ic-reactor/react/dist/context/actor/provider.js", "../../@ic-reactor/react/dist/context/actor/hooks/useMethodNames.js", "../../@ic-reactor/react/dist/context/actor/hooks/useQueryCall.js", "../../@ic-reactor/react/dist/context/actor/hooks/useUpdateCall.js", "../../@ic-reactor/react/dist/context/actor/hooks/useMethodAttributes.js", "../../@ic-reactor/react/dist/context/actor/hooks/useActorStore.js", "../../@ic-reactor/react/dist/context/actor/hooks/useActorState.js", "../../@ic-reactor/react/dist/context/actor/hooks/useVisitMethod.js", "../../@ic-reactor/react/dist/context/actor/hooks/useVisitService.js", "../../@ic-reactor/react/dist/context/actor/hooks/useActorInterface.js", "../../@ic-reactor/react/dist/context/actor/hooks/useMethod.js", "../../@ic-reactor/react/dist/context/actor/index.js", "../../@ic-reactor/react/dist/hooks/index.js", "../../@ic-reactor/react/dist/context/actor/types.js", "../../@ic-reactor/react/dist/context/agent/types.js", "../../@ic-reactor/react/dist/context/adapter/types.js", "../../@ic-reactor/react/dist/helpers/types.js", "../../@ic-reactor/react/dist/hooks/types.js", "../../@ic-reactor/react/dist/types.js", "../../@ic-reactor/react/dist/core.js", "../../@ic-reactor/react/dist/index.js"],
  "sourcesContent": ["const reduxImpl = (reducer, initial) => (set, _get, api) => {\n  api.dispatch = (action) => {\n    set((state) => reducer(state, action), false, action);\n    return action;\n  };\n  api.dispatchFromDevtools = true;\n  return { dispatch: (...a) => api.dispatch(...a), ...initial };\n};\nconst redux = reduxImpl;\n\nconst trackedConnections = /* @__PURE__ */ new Map();\nconst getTrackedConnectionState = (name) => {\n  const api = trackedConnections.get(name);\n  if (!api)\n    return {};\n  return Object.fromEntries(\n    Object.entries(api.stores).map(([key, api2]) => [key, api2.getState()])\n  );\n};\nconst extractConnectionInformation = (store, extensionConnector, options) => {\n  if (store === void 0) {\n    return {\n      type: \"untracked\",\n      connection: extensionConnector.connect(options)\n    };\n  }\n  const existingConnection = trackedConnections.get(options.name);\n  if (existingConnection) {\n    return { type: \"tracked\", store, ...existingConnection };\n  }\n  const newConnection = {\n    connection: extensionConnector.connect(options),\n    stores: {}\n  };\n  trackedConnections.set(options.name, newConnection);\n  return { type: \"tracked\", store, ...newConnection };\n};\nconst devtoolsImpl = (fn, devtoolsOptions = {}) => (set, get, api) => {\n  const { enabled, anonymousActionType, store, ...options } = devtoolsOptions;\n  let extensionConnector;\n  try {\n    extensionConnector = (enabled != null ? enabled : process.env.NODE_ENV !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (e) {\n  }\n  if (!extensionConnector) {\n    if (process.env.NODE_ENV !== \"production\" && enabled) {\n      console.warn(\n        \"[zustand devtools middleware] Please install/enable Redux devtools extension\"\n      );\n    }\n    return fn(set, get, api);\n  }\n  const { connection, ...connectionInformation } = extractConnectionInformation(store, extensionConnector, options);\n  let isRecording = true;\n  api.setState = (state, replace, nameOrAction) => {\n    const r = set(state, replace);\n    if (!isRecording)\n      return r;\n    const action = nameOrAction === void 0 ? { type: anonymousActionType || \"anonymous\" } : typeof nameOrAction === \"string\" ? { type: nameOrAction } : nameOrAction;\n    if (store === void 0) {\n      connection == null ? void 0 : connection.send(action, get());\n      return r;\n    }\n    connection == null ? void 0 : connection.send(\n      {\n        ...action,\n        type: `${store}/${action.type}`\n      },\n      {\n        ...getTrackedConnectionState(options.name),\n        [store]: api.getState()\n      }\n    );\n    return r;\n  };\n  const setStateFromDevtools = (...a) => {\n    const originalIsRecording = isRecording;\n    isRecording = false;\n    set(...a);\n    isRecording = originalIsRecording;\n  };\n  const initialState = fn(api.setState, get, api);\n  if (connectionInformation.type === \"untracked\") {\n    connection == null ? void 0 : connection.init(initialState);\n  } else {\n    connectionInformation.stores[connectionInformation.store] = api;\n    connection == null ? void 0 : connection.init(\n      Object.fromEntries(\n        Object.entries(connectionInformation.stores).map(([key, store2]) => [\n          key,\n          key === connectionInformation.store ? initialState : store2.getState()\n        ])\n      )\n    );\n  }\n  if (api.dispatchFromDevtools && typeof api.dispatch === \"function\") {\n    let didWarnAboutReservedActionType = false;\n    const originalDispatch = api.dispatch;\n    api.dispatch = (...a) => {\n      if (process.env.NODE_ENV !== \"production\" && a[0].type === \"__setState\" && !didWarnAboutReservedActionType) {\n        console.warn(\n          '[zustand devtools middleware] \"__setState\" action type is reserved to set state from the devtools. Avoid using it.'\n        );\n        didWarnAboutReservedActionType = true;\n      }\n      originalDispatch(...a);\n    };\n  }\n  connection.subscribe((message) => {\n    var _a;\n    switch (message.type) {\n      case \"ACTION\":\n        if (typeof message.payload !== \"string\") {\n          console.error(\n            \"[zustand devtools middleware] Unsupported action format\"\n          );\n          return;\n        }\n        return parseJsonThen(\n          message.payload,\n          (action) => {\n            if (action.type === \"__setState\") {\n              if (store === void 0) {\n                setStateFromDevtools(action.state);\n                return;\n              }\n              if (Object.keys(action.state).length !== 1) {\n                console.error(\n                  `\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { \"type\": \"__setState\", \"state\": { \"abc123Store\": { \"foo\": \"bar\" } } }\n                    `\n                );\n              }\n              const stateFromDevtools = action.state[store];\n              if (stateFromDevtools === void 0 || stateFromDevtools === null) {\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(stateFromDevtools)) {\n                setStateFromDevtools(stateFromDevtools);\n              }\n              return;\n            }\n            if (!api.dispatchFromDevtools)\n              return;\n            if (typeof api.dispatch !== \"function\")\n              return;\n            api.dispatch(action);\n          }\n        );\n      case \"DISPATCH\":\n        switch (message.payload.type) {\n          case \"RESET\":\n            setStateFromDevtools(initialState);\n            if (store === void 0) {\n              return connection == null ? void 0 : connection.init(api.getState());\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"COMMIT\":\n            if (store === void 0) {\n              connection == null ? void 0 : connection.init(api.getState());\n              return;\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"ROLLBACK\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                connection == null ? void 0 : connection.init(api.getState());\n                return;\n              }\n              setStateFromDevtools(state[store]);\n              connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n            });\n          case \"JUMP_TO_STATE\":\n          case \"JUMP_TO_ACTION\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(state[store])) {\n                setStateFromDevtools(state[store]);\n              }\n            });\n          case \"IMPORT_STATE\": {\n            const { nextLiftedState } = message.payload;\n            const lastComputedState = (_a = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _a.state;\n            if (!lastComputedState)\n              return;\n            if (store === void 0) {\n              setStateFromDevtools(lastComputedState);\n            } else {\n              setStateFromDevtools(lastComputedState[store]);\n            }\n            connection == null ? void 0 : connection.send(\n              null,\n              // FIXME no-any\n              nextLiftedState\n            );\n            return;\n          }\n          case \"PAUSE_RECORDING\":\n            return isRecording = !isRecording;\n        }\n        return;\n    }\n  });\n  return initialState;\n};\nconst devtools = devtoolsImpl;\nconst parseJsonThen = (stringified, f) => {\n  let parsed;\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error(\n      \"[zustand devtools middleware] Could not parse the received json\",\n      e\n    );\n  }\n  if (parsed !== void 0)\n    f(parsed);\n};\n\nconst subscribeWithSelectorImpl = (fn) => (set, get, api) => {\n  const origSubscribe = api.subscribe;\n  api.subscribe = (selector, optListener, options) => {\n    let listener = selector;\n    if (optListener) {\n      const equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n      let currentSlice = selector(api.getState());\n      listener = (state) => {\n        const nextSlice = selector(state);\n        if (!equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          optListener(currentSlice = nextSlice, previousSlice);\n        }\n      };\n      if (options == null ? void 0 : options.fireImmediately) {\n        optListener(currentSlice, currentSlice);\n      }\n    }\n    return origSubscribe(listener);\n  };\n  const initialState = fn(set, get, api);\n  return initialState;\n};\nconst subscribeWithSelector = subscribeWithSelectorImpl;\n\nconst combine = (initialState, create) => (...a) => Object.assign({}, initialState, create(...a));\n\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (e) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, options == null ? void 0 : options.reviver);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(\n      name,\n      JSON.stringify(newValue, options == null ? void 0 : options.replacer)\n    ),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn) => (input) => {\n  try {\n    const result = fn(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e);\n      }\n    };\n  }\n};\nconst oldImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    getStorage: () => localStorage,\n    serialize: JSON.stringify,\n    deserialize: JSON.parse,\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage;\n  try {\n    storage = options.getStorage();\n  } catch (e) {\n  }\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const thenableSerialize = toThenable(options.serialize);\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    let errorInSync;\n    const thenable = thenableSerialize({ state, version: options.version }).then(\n      (serializedValue) => storage.setItem(options.name, serializedValue)\n    ).catch((e) => {\n      errorInSync = e;\n    });\n    if (errorInSync) {\n      throw errorInSync;\n    }\n    return thenable;\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a;\n    if (!storage)\n      return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => cb(get()));\n    const postRehydrationCallback = ((_a = options.onRehydrateStorage) == null ? void 0 : _a.call(options, get())) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((storageValue) => {\n      if (storageValue) {\n        return options.deserialize(storageValue);\n      }\n    }).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return deserializedStorageValue.state;\n        }\n      }\n    }).then((migratedState) => {\n      var _a2;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      return setItem();\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.getStorage) {\n        storage = newOptions.getStorage();\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  hydrate();\n  return stateFromStorage || configResult;\n};\nconst newImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage)\n      return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return deserializedStorageValue.state;\n        }\n      }\n    }).then((migratedState) => {\n      var _a2;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      return setItem();\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persistImpl = (config, baseOptions) => {\n  if (\"getStorage\" in baseOptions || \"serialize\" in baseOptions || \"deserialize\" in baseOptions) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead.\"\n      );\n    }\n    return oldImpl(config, baseOptions);\n  }\n  return newImpl(config, baseOptions);\n};\nconst persist = persistImpl;\n\nexport { combine, createJSONStorage, devtools, persist, redux, subscribeWithSelector };\n", "const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected.\"\n      );\n    }\n    listeners.clear();\n  };\n  const api = { setState, getState, getInitialState, subscribe, destroy };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\nvar vanilla = (createState) => {\n  if (process.env.NODE_ENV !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'.\"\n    );\n  }\n  return createStore(createState);\n};\n\nexport { createStore, vanilla as default };\n", "\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringToHash = exports.generateActorHash = exports.generateHash = exports.generateRequestHash = exports.jsonToString = exports.isQuery = exports.getProcessEnvNetwork = exports.isInLocalOrDevelopment = exports.importCandidDefinition = exports.createStoreWithOptionalDevtools = void 0;\nconst agent_1 = require(\"@dfinity/agent\");\nconst middleware_1 = require(\"zustand/middleware\");\nconst vanilla_1 = require(\"zustand/vanilla\");\nfunction createStoreWithOptionalDevtools(initialState, config) {\n    if (config.withDevtools) {\n        return (0, vanilla_1.createStore)((0, middleware_1.devtools)(() => initialState, Object.assign({ serialize: {\n                replacer: (_, value) => typeof value === \"bigint\" ? value.toString() : value,\n            } }, config)));\n    }\n    else {\n        return (0, vanilla_1.createStore)(() => initialState);\n    }\n}\nexports.createStoreWithOptionalDevtools = createStoreWithOptionalDevtools;\nconst importCandidDefinition = (candidDef) => __awaiter(void 0, void 0, void 0, function* () {\n    if (typeof window === \"undefined\") {\n        // Node.js environment\n        try {\n            const loaderFunction = new Function(`\n        return import(\"data:text/javascript;charset=utf-8, ${encodeURIComponent(candidDef)}\")\n      `);\n            return loaderFunction();\n        }\n        catch (error) {\n            throw new Error(`Error importing candid definition in NodeJs: ${error}`);\n        }\n    }\n    else {\n        // Browser environment\n        try {\n            const loaderFunction = new Function(`\n        const blob = new Blob([\\`${candidDef}\\`], { type: \"application/javascript\" })\n        const url = URL.createObjectURL(blob)\n        return import(url)\n      `);\n            return loaderFunction();\n        }\n        catch (error) {\n            throw new Error(`Error importing candid definition: ${error}`);\n        }\n    }\n});\nexports.importCandidDefinition = importCandidDefinition;\nconst isInLocalOrDevelopment = () => {\n    return typeof process !== \"undefined\" && process.env.DFX_NETWORK === \"local\";\n};\nexports.isInLocalOrDevelopment = isInLocalOrDevelopment;\nconst getProcessEnvNetwork = () => {\n    var _a;\n    if (typeof process === \"undefined\")\n        return \"ic\";\n    else\n        return (_a = process.env.DFX_NETWORK) !== null && _a !== void 0 ? _a : \"ic\";\n};\nexports.getProcessEnvNetwork = getProcessEnvNetwork;\nfunction isQuery(func) {\n    return (func.annotations.includes(\"query\") ||\n        func.annotations.includes(\"composite_query\"));\n}\nexports.isQuery = isQuery;\nconst jsonToString = (json, space = 2) => {\n    return JSON.stringify(json, (_, value) => (typeof value === \"bigint\" ? `BigInt(${value})` : value), space);\n};\nexports.jsonToString = jsonToString;\nconst generateRequestHash = (args = []) => {\n    const serializedArgs = (0, agent_1.hashValue)(args);\n    return `0x${(0, agent_1.toHex)(serializedArgs)}`;\n};\nexports.generateRequestHash = generateRequestHash;\nconst generateHash = (field) => {\n    const serializedArgs = JSON.stringify(field);\n    return (0, exports.stringToHash)(serializedArgs !== null && serializedArgs !== void 0 ? serializedArgs : \"\");\n};\nexports.generateHash = generateHash;\nconst generateActorHash = (actor) => {\n    const serializedArgs = JSON.stringify(actor);\n    return (0, exports.stringToHash)(serializedArgs !== null && serializedArgs !== void 0 ? serializedArgs : \"\");\n};\nexports.generateActorHash = generateActorHash;\nconst stringToHash = (str) => {\n    const hashBytes = (0, agent_1.hash)(new TextEncoder().encode(str));\n    return `0x${toHexString(hashBytes)}`;\n};\nexports.stringToHash = stringToHash;\nfunction toHexString(bytes) {\n    return (0, agent_1.toHex)(bytes);\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ACTOR_INITIAL_STATE = exports.LOCAL_INTERNET_IDENTITY_PROVIDER = exports.IC_INTERNET_IDENTITY_PROVIDER = exports.DEFAULT_IC_DIDJS_ID = exports.DEFAULT_LOCAL_DIDJS_ID = exports.LOCAL_HOST_NETWORK_URI = exports.IC_HOST_NETWORK_URI = exports.LOCAL_HOSTS = exports.REMOTE_HOSTS = void 0;\nexports.REMOTE_HOSTS = [\".github.dev\", \".gitpod.io\"];\nexports.LOCAL_HOSTS = [\"localhost\", \"127.0.0.1\"];\nexports.IC_HOST_NETWORK_URI = \"https://ic0.app\";\nexports.LOCAL_HOST_NETWORK_URI = \"http://127.0.0.1:4943\";\nexports.DEFAULT_LOCAL_DIDJS_ID = \"bd3sg-teaaa-aaaaa-qaaba-cai\";\nexports.DEFAULT_IC_DIDJS_ID = \"a4gq6-oaaaa-aaaab-qaa4q-cai\";\nexports.IC_INTERNET_IDENTITY_PROVIDER = \"https://identity.ic0.app/#authorize\";\nexports.LOCAL_INTERNET_IDENTITY_PROVIDER = \"http://rdmx6-jaaaa-aaaaa-aaadq-cai.localhost:4943/#authorize\";\nexports.ACTOR_INITIAL_STATE = {\n    name: \"\",\n    methodState: {},\n    initializing: false,\n    initialized: false,\n    error: undefined,\n};\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"@dfinity/candid\"), exports);\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"@dfinity/principal\"), exports);\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"@dfinity/agent\"), exports);\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.agent = exports.principal = exports.candid = void 0;\n__exportStar(require(\"./helper\"), exports);\n__exportStar(require(\"./constants\"), exports);\n// Re-export the peerDependencies\n/// https://agent-js.icp.xyz/candid\nexports.candid = __importStar(require(\"./candid\"));\n/// https://agent-js.icp.xyz/principal\nexports.principal = __importStar(require(\"./principal\"));\n/// https://agent-js.icp.xyz/agent\nexports.agent = __importStar(require(\"./agent\"));\n", "\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ActorManager = void 0;\n/* eslint-disable no-console */\nconst agent_1 = require(\"@dfinity/agent\");\nconst helper_1 = require(\"../../utils/helper\");\nconst candid_1 = require(\"@dfinity/candid\");\nconst utils_1 = require(\"../../utils\");\nclass ActorManager {\n    constructor(actorConfig) {\n        this._actor = null;\n        this._subscribers = [];\n        this.updateState = (newState, action) => {\n            this.actorStore.setState((state) => (Object.assign(Object.assign({}, state), newState)), false, action);\n        };\n        this.updateMethodState = (method, hash, newState) => {\n            this.actorStore.setState((state) => {\n                const methodState = state.methodState[method] || {};\n                const currentMethodState = methodState[hash] || DEFAULT_STATE;\n                const updatedMethodState = Object.assign(Object.assign({}, methodState), { [hash]: Object.assign(Object.assign({}, currentMethodState), newState) });\n                return Object.assign(Object.assign({}, state), { methodState: Object.assign(Object.assign({}, state.methodState), { [method]: updatedMethodState }) });\n            }, false, method);\n        };\n        this.initialize = (options) => __awaiter(this, void 0, void 0, function* () {\n            yield this._agentManager.updateAgent(options);\n        });\n        this.extractInterface = () => {\n            return this._idlFactory({ IDL: candid_1.IDL });\n        };\n        this.extractMethodAttributes = () => {\n            const iface = this.extractInterface();\n            const methodAttributesArray = iface._fields.map(([name, func]) => ({\n                name: name,\n                attributes: {\n                    numberOfArgs: func.argTypes.length,\n                    type: ((0, helper_1.isQuery)(func) ? \"query\" : \"update\"),\n                    validate: (arg) => func.argTypes.some((t, i) => t.covariant(arg[i])),\n                },\n            }));\n            methodAttributesArray.sort((a, b) => {\n                if (a.attributes.type === b.attributes.type) {\n                    return a.attributes.numberOfArgs - b.attributes.numberOfArgs;\n                }\n                return a.attributes.type === \"query\" ? -1 : 1;\n            });\n            return methodAttributesArray.reduce((acc, { name, attributes }) => {\n                acc[name] = attributes;\n                return acc;\n            }, {});\n        };\n        this.extractVisitor = () => {\n            const iface = this.extractInterface();\n            return iface._fields.reduce((acc, service) => {\n                const functionName = service[0];\n                const type = service[1];\n                const visit = ((extractorClass, data) => {\n                    return type.accept(extractorClass, data);\n                });\n                acc[functionName] = visit;\n                return acc;\n            }, {});\n        };\n        this.initializeActor = (agent) => {\n            console.info(`Initializing actor ${this.canisterId} on ${this._agentManager.getNetwork()} network`);\n            const { _idlFactory, canisterId } = this;\n            this.updateState({\n                initializing: true,\n                initialized: false,\n                methodState: {},\n            }, \"initializing\");\n            try {\n                if (!agent) {\n                    throw new Error(\"Agent not initialized\");\n                }\n                this._actor = agent_1.Actor.createActor(_idlFactory, {\n                    agent,\n                    canisterId,\n                });\n                if (!this._actor) {\n                    throw new Error(\"Failed to initialize actor\");\n                }\n                this.updateState({\n                    initializing: false,\n                    initialized: true,\n                }, \"initialized\");\n            }\n            catch (error) {\n                console.error(\"Error in initializeActor:\", error);\n                this.updateState({ error: error, initializing: false }, \"error\");\n            }\n        };\n        this._getActorMethod = (functionName) => {\n            if (!this._actor) {\n                throw new Error(\"Actor not initialized\");\n            }\n            if (!this._actor[functionName] ||\n                typeof this._actor[functionName] !== \"function\") {\n                throw new Error(`Method ${String(functionName)} not found`);\n            }\n            return this._actor[functionName];\n        };\n        this.callMethod = (functionName, ...args) => __awaiter(this, void 0, void 0, function* () {\n            const method = this._getActorMethod(functionName);\n            const data = yield method(...args);\n            return data;\n        });\n        this.callMethodWithOptions = (options) => {\n            return (functionName, ...args) => __awaiter(this, void 0, void 0, function* () {\n                const method = this._getActorMethod(functionName);\n                const data = yield method.withOptions(options)(...args);\n                return data;\n            });\n        };\n        // actor store\n        this.getActor = () => {\n            return this._actor;\n        };\n        this.getState = () => {\n            return this.actorStore.getState();\n        };\n        this.subscribeActorState = (listener) => {\n            const unsubscribe = this.actorStore.subscribe(listener);\n            this._subscribers.push(unsubscribe);\n            return unsubscribe;\n        };\n        this.setState = (updater) => {\n            return this.actorStore.setState(updater);\n        };\n        this.cleanup = () => {\n            this._unsubscribeAgent();\n            this._subscribers.forEach((unsubscribe) => unsubscribe());\n        };\n        const { agentManager, idlFactory, canisterId, name = canisterId.toString(), withVisitor = false, withDevtools = false, initializeOnCreate = true, } = actorConfig;\n        if (!canisterId) {\n            throw new Error(\"CanisterId is required!\");\n        }\n        this.canisterId = canisterId.toString();\n        if (!idlFactory) {\n            throw new Error(\"IDLFactory is required!\");\n        }\n        this._idlFactory = idlFactory;\n        this.methodAttributes = this.extractMethodAttributes();\n        if (!agentManager) {\n            throw new Error(\"AgentManager is required!\");\n        }\n        this._agentManager = agentManager;\n        // Initialize stores\n        this.actorStore = (0, helper_1.createStoreWithOptionalDevtools)(Object.assign(Object.assign({}, utils_1.ACTOR_INITIAL_STATE), { name }), {\n            withDevtools,\n            name: \"reactor-actor\",\n            store: canisterId.toString(),\n        });\n        this._unsubscribeAgent = this._agentManager.subscribeAgent(this.initializeActor, initializeOnCreate);\n        if (withVisitor) {\n            this.visitFunction = this.extractVisitor();\n        }\n        else {\n            this.visitFunction = emptyVisitor;\n        }\n    }\n    // agent store\n    get agentManager() {\n        return this._agentManager;\n    }\n}\nexports.ActorManager = ActorManager;\nconst emptyVisitor = new Proxy({}, {\n    get: function (_, prop) {\n        throw new Error(`Cannot visit function \"${String(prop)}\" without initializing the actor with the visitor option, please set the withVisitor option to true when creating the actor manager.`);\n    },\n});\nconst DEFAULT_STATE = { data: undefined, error: undefined, loading: false };\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createActorManager = void 0;\nconst actor_1 = require(\"./classes/actor\");\n/**\n * Actor manager handles the lifecycle of the actors.\n * It is responsible for creating and managing the actors.\n * You can use it to call and visit the actor's methods.\n * It also provides a way to interact with the actor's state.\n *\n * @category Main\n * @includeExample ./packages/core/README.md:268-283\n */\nconst createActorManager = (config) => {\n    return new actor_1.ActorManager(config);\n};\nexports.createActorManager = createActorManager;\n", "import { bufEquals } from '@dfinity/agent';\nimport {\n  DerEncodedPublicKey,\n  KeyPair,\n  PublicKey,\n  Signature,\n  SignIdentity,\n  uint8ToBuf,\n  ED25519_OID,\n  unwrapDER,\n  wrapDER,\n  fromHex,\n  toHex,\n  bufFromBufLike,\n} from '@dfinity/agent';\nimport { ed25519 } from '@noble/curves/ed25519';\n\ndeclare type KeyLike = PublicKey | DerEncodedPublicKey | ArrayBuffer | ArrayBufferView;\n\nfunction isObject(value: unknown) {\n  return value !== null && typeof value === 'object';\n}\n\nexport class Ed25519PublicKey implements PublicKey {\n  /**\n   * Construct Ed25519PublicKey from an existing PublicKey\n   * @param {unknown} maybeKey - existing PublicKey, ArrayBuffer, DerEncodedPublicKey, or hex string\n   * @returns {Ed25519PublicKey} Instance of Ed25519PublicKey\n   */\n  public static from(maybeKey: unknown): Ed25519PublicKey {\n    if (typeof maybeKey === 'string') {\n      const key = fromHex(maybeKey);\n      return this.fromRaw(key);\n    } else if (isObject(maybeKey)) {\n      const key = maybeKey as KeyLike;\n      if (isObject(key) && Object.hasOwnProperty.call(key, '__derEncodedPublicKey__')) {\n        return this.fromDer(key as DerEncodedPublicKey);\n      } else if (ArrayBuffer.isView(key)) {\n        const view = key as ArrayBufferView;\n        return this.fromRaw(bufFromBufLike(view.buffer));\n      } else if (key instanceof ArrayBuffer) {\n        return this.fromRaw(key);\n      } else if ('rawKey' in key) {\n        return this.fromRaw(key.rawKey as ArrayBuffer);\n      } else if ('derKey' in key) {\n        return this.fromDer(key.derKey as DerEncodedPublicKey);\n      } else if ('toDer' in key) {\n        return this.fromDer(key.toDer() as ArrayBuffer);\n      }\n    }\n    throw new Error('Cannot construct Ed25519PublicKey from the provided key.');\n  }\n\n  public static fromRaw(rawKey: ArrayBuffer): Ed25519PublicKey {\n    return new Ed25519PublicKey(rawKey);\n  }\n\n  public static fromDer(derKey: DerEncodedPublicKey): Ed25519PublicKey {\n    return new Ed25519PublicKey(this.derDecode(derKey));\n  }\n\n  // The length of Ed25519 public keys is always 32 bytes.\n  private static RAW_KEY_LENGTH = 32;\n\n  private static derEncode(publicKey: ArrayBuffer): DerEncodedPublicKey {\n    const key = wrapDER(publicKey, ED25519_OID).buffer as DerEncodedPublicKey;\n    key.__derEncodedPublicKey__ = undefined;\n    return key;\n  }\n\n  private static derDecode(key: DerEncodedPublicKey): ArrayBuffer {\n    const unwrapped = unwrapDER(key, ED25519_OID);\n    if (unwrapped.length !== this.RAW_KEY_LENGTH) {\n      throw new Error('An Ed25519 public key must be exactly 32bytes long');\n    }\n    return unwrapped;\n  }\n\n  #rawKey: ArrayBuffer;\n\n  public get rawKey(): ArrayBuffer {\n    return this.#rawKey;\n  }\n\n  #derKey: DerEncodedPublicKey;\n\n  public get derKey(): DerEncodedPublicKey {\n    return this.#derKey;\n  }\n\n  // `fromRaw` and `fromDer` should be used for instantiation, not this constructor.\n  private constructor(key: ArrayBuffer) {\n    if (key.byteLength !== Ed25519PublicKey.RAW_KEY_LENGTH) {\n      throw new Error('An Ed25519 public key must be exactly 32bytes long');\n    }\n    this.#rawKey = key;\n    this.#derKey = Ed25519PublicKey.derEncode(key);\n  }\n\n  public toDer(): DerEncodedPublicKey {\n    return this.derKey;\n  }\n\n  public toRaw(): ArrayBuffer {\n    return this.rawKey;\n  }\n}\n\n/**\n * Ed25519KeyIdentity is an implementation of SignIdentity that uses Ed25519 keys. This class is used to sign and verify messages for an agent.\n */\nexport class Ed25519KeyIdentity extends SignIdentity {\n  /**\n   * Generate a new Ed25519KeyIdentity.\n   * @param seed a 32-byte seed for the private key. If not provided, a random seed will be generated.\n   * @returns Ed25519KeyIdentity\n   */\n  public static generate(seed?: Uint8Array): Ed25519KeyIdentity {\n\n    if (seed && seed.length !== 32) {\n      throw new Error('Ed25519 Seed needs to be 32 bytes long.');\n    }\n    if (!seed) seed = ed25519.utils.randomPrivateKey();\n    // Check if the seed is all zeros\n    if(bufEquals(seed, new Uint8Array(new Array(32).fill(0)))) {\n      console.warn('Seed is all zeros. This is not a secure seed. Please provide a seed with sufficient entropy if this is a production environment.');\n    }\n    const sk = new Uint8Array(32);\n    for (let i = 0; i < 32; i++) sk[i] = new Uint8Array(seed)[i];\n\n    const pk = ed25519.getPublicKey(sk);\n    return Ed25519KeyIdentity.fromKeyPair(pk, sk);\n  }\n\n  public static fromParsedJson(obj: JsonnableEd25519KeyIdentity): Ed25519KeyIdentity {\n    const [publicKeyDer, privateKeyRaw] = obj;\n    return new Ed25519KeyIdentity(\n      Ed25519PublicKey.fromDer(fromHex(publicKeyDer) as DerEncodedPublicKey),\n      fromHex(privateKeyRaw),\n    );\n  }\n\n  public static fromJSON(json: string): Ed25519KeyIdentity {\n    const parsed = JSON.parse(json);\n    if (Array.isArray(parsed)) {\n      if (typeof parsed[0] === 'string' && typeof parsed[1] === 'string') {\n        return this.fromParsedJson([parsed[0], parsed[1]]);\n      } else {\n        throw new Error('Deserialization error: JSON must have at least 2 items.');\n      }\n    }\n    throw new Error(`Deserialization error: Invalid JSON type for string: ${JSON.stringify(json)}`);\n  }\n\n  public static fromKeyPair(publicKey: ArrayBuffer, privateKey: ArrayBuffer): Ed25519KeyIdentity {\n    return new Ed25519KeyIdentity(Ed25519PublicKey.fromRaw(publicKey), privateKey);\n  }\n\n  public static fromSecretKey(secretKey: ArrayBuffer): Ed25519KeyIdentity {\n    const publicKey = ed25519.getPublicKey(new Uint8Array(secretKey));\n    return Ed25519KeyIdentity.fromKeyPair(publicKey, secretKey);\n  }\n\n  #publicKey: Ed25519PublicKey;\n  #privateKey: Uint8Array;\n\n  // `fromRaw` and `fromDer` should be used for instantiation, not this constructor.\n  protected constructor(publicKey: PublicKey, privateKey: ArrayBuffer) {\n    super();\n    this.#publicKey = Ed25519PublicKey.from(publicKey);\n    this.#privateKey = new Uint8Array(privateKey);\n  }\n\n  /**\n   * Serialize this key to JSON.\n   */\n  public toJSON(): JsonnableEd25519KeyIdentity {\n    return [toHex(this.#publicKey.toDer()), toHex(this.#privateKey)];\n  }\n\n  /**\n   * Return a copy of the key pair.\n   */\n  public getKeyPair(): KeyPair {\n    return {\n      secretKey: this.#privateKey,\n      publicKey: this.#publicKey,\n    };\n  }\n\n  /**\n   * Return the public key.\n   */\n  public getPublicKey(): Required<PublicKey> {\n    return this.#publicKey;\n  }\n\n  /**\n   * Signs a blob of data, with this identity's private key.\n   * @param challenge - challenge to sign with this identity's secretKey, producing a signature\n   */\n  public async sign(challenge: ArrayBuffer): Promise<Signature> {\n    const blob = new Uint8Array(challenge);\n    // Some implementations of Ed25519 private keys append a public key to the end of the private key. We only want the private key.\n    const signature = uint8ToBuf(ed25519.sign(blob, this.#privateKey.slice(0, 32)));\n    // add { __signature__: void; } to the signature to make it compatible with the agent\n\n    Object.defineProperty(signature, '__signature__', {\n      enumerable: false,\n      value: undefined,\n    });\n\n    return signature as Signature;\n  }\n\n  /**\n   * Verify\n   * @param sig - signature to verify\n   * @param msg - message to verify\n   * @param pk - public key\n   * @returns - true if the signature is valid, false otherwise\n   */\n  public static verify(\n    sig: ArrayBuffer | Uint8Array | string,\n    msg: ArrayBuffer | Uint8Array | string,\n    pk: ArrayBuffer | Uint8Array | string,\n  ) {\n    const [signature, message, publicKey] = [sig, msg, pk].map(x => {\n      if (typeof x === 'string') {\n        x = fromHex(x);\n      }\n      if (x instanceof Uint8Array) {\n        x = x.buffer;\n      }\n      return new Uint8Array(x);\n    });\n    return ed25519.verify(message, signature, publicKey);\n  }\n}\n\ntype PublicKeyHex = string;\ntype SecretKeyHex = string;\nexport type JsonnableEd25519KeyIdentity = [PublicKeyHex, SecretKeyHex];\n", "import { DerEncodedPublicKey, PublicKey, Signature, SignIdentity } from '@dfinity/agent';\n\n/**\n * Options used in a {@link ECDSAKeyIdentity}\n */\nexport type CryptoKeyOptions = {\n  extractable?: boolean;\n  keyUsages?: KeyUsage[];\n  subtleCrypto?: SubtleCrypto;\n};\n\nexport class CryptoError extends Error {\n  constructor(public readonly message: string) {\n    super(message);\n    Object.setPrototypeOf(this, CryptoError.prototype);\n  }\n}\n\nexport interface DerCryptoKey extends CryptoKey {\n  toDer: () => DerEncodedPublicKey;\n}\n\n/**\n * Utility method to ensure that a subtleCrypto implementation is provided or is available in the global context\n * @param subtleCrypto SubtleCrypto implementation\n * @returns subleCrypto\n */\nfunction _getEffectiveCrypto(subtleCrypto: CryptoKeyOptions['subtleCrypto']): SubtleCrypto {\n  if (typeof global !== 'undefined' && global['crypto'] && global['crypto']['subtle']) {\n    return global['crypto']['subtle'];\n  }\n  if (subtleCrypto) {\n    return subtleCrypto;\n  } else if (typeof crypto !== 'undefined' && crypto['subtle']) {\n    return crypto.subtle;\n  } else {\n    throw new CryptoError(\n      'Global crypto was not available and none was provided. Please inlcude a SubtleCrypto implementation. See https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto',\n    );\n  }\n}\n\n/**\n * An identity interface that wraps an ECDSA keypair using the P-256 named curve. Supports DER-encoding and decoding for agent calls\n */\nexport class ECDSAKeyIdentity extends SignIdentity {\n  /**\n   * Generates a randomly generated identity for use in calls to the Internet Computer.\n   * @param {CryptoKeyOptions} options optional settings\n   * @param {CryptoKeyOptions['extractable']} options.extractable - whether the key should allow itself to be used. Set to false for maximum security.\n   * @param {CryptoKeyOptions['keyUsages']} options.keyUsages - a list of key usages that the key can be used for\n   * @param {CryptoKeyOptions['subtleCrypto']} options.subtleCrypto interface\n   * @constructs ECDSAKeyIdentity\n   * @returns a {@link ECDSAKeyIdentity}\n   */\n  public static async generate(options?: CryptoKeyOptions): Promise<ECDSAKeyIdentity> {\n    const { extractable = false, keyUsages = ['sign', 'verify'], subtleCrypto } = options ?? {};\n    const effectiveCrypto = _getEffectiveCrypto(subtleCrypto);\n    const keyPair = await effectiveCrypto.generateKey(\n      {\n        name: 'ECDSA',\n        namedCurve: 'P-256',\n      },\n      extractable,\n      keyUsages,\n    );\n    const derKey = (await effectiveCrypto.exportKey(\n      'spki',\n      keyPair.publicKey,\n    )) as DerEncodedPublicKey;\n\n    return new this(keyPair, derKey, effectiveCrypto);\n  }\n\n  /**\n   * generates an identity from a public and private key. Please ensure that you are generating these keys securely and protect the user's private key\n   * @param keyPair a CryptoKeyPair\n   * @param subtleCrypto - a SubtleCrypto interface in case one is not available globally\n   * @returns an {@link ECDSAKeyIdentity}\n   */\n  public static async fromKeyPair(\n    keyPair: CryptoKeyPair | { privateKey: CryptoKey; publicKey: CryptoKey },\n    subtleCrypto?: SubtleCrypto,\n  ): Promise<ECDSAKeyIdentity> {\n    const effectiveCrypto = _getEffectiveCrypto(subtleCrypto);\n    const derKey = (await effectiveCrypto.exportKey(\n      'spki',\n      keyPair.publicKey,\n    )) as DerEncodedPublicKey;\n    return new ECDSAKeyIdentity(keyPair, derKey, effectiveCrypto);\n  }\n\n  protected _derKey: DerEncodedPublicKey;\n  protected _keyPair: CryptoKeyPair;\n  protected _subtleCrypto: SubtleCrypto;\n\n  // `fromKeyPair` and `generate` should be used for instantiation, not this constructor.\n  protected constructor(\n    keyPair: CryptoKeyPair,\n    derKey: DerEncodedPublicKey,\n    subtleCrypto: SubtleCrypto,\n  ) {\n    super();\n    this._keyPair = keyPair;\n    this._derKey = derKey;\n    this._subtleCrypto = subtleCrypto;\n  }\n\n  /**\n   * Return the internally-used key pair.\n   * @returns a CryptoKeyPair\n   */\n  public getKeyPair(): CryptoKeyPair {\n    return this._keyPair;\n  }\n\n  /**\n   * Return the public key.\n   * @returns an {@link PublicKey & DerCryptoKey}\n   */\n  public getPublicKey(): PublicKey & DerCryptoKey {\n    const derKey = this._derKey;\n    const key: DerCryptoKey = Object.create(this._keyPair.publicKey);\n    key.toDer = function () {\n      return derKey;\n    };\n\n    return key;\n  }\n\n  /**\n   * Signs a blob of data, with this identity's private key.\n   * @param {ArrayBuffer} challenge - challenge to sign with this identity's secretKey, producing a signature\n   * @returns {Promise<Signature>} signature\n   */\n  public async sign(challenge: ArrayBuffer): Promise<Signature> {\n    const params: EcdsaParams = {\n      name: 'ECDSA',\n      hash: { name: 'SHA-256' },\n    };\n    this._keyPair.privateKey;\n    const signature = await this._subtleCrypto.sign(params, this._keyPair.privateKey, challenge);\n\n    return signature as Signature;\n  }\n}\n\nexport default ECDSAKeyIdentity;\n", "import { Identity, PublicKey } from '@dfinity/agent';\nimport { Principal } from '@dfinity/principal';\n\n/**\n * A partial delegated identity, representing a delegation chain and the public key that it targets\n */\nexport class PartialIdentity implements Identity {\n  #inner: PublicKey;\n\n  /**\n   * The raw public key of this identity.\n   */\n  get rawKey(): ArrayBuffer | undefined {\n    return this.#inner.rawKey;\n  }\n\n  /**\n   * The DER-encoded public key of this identity.\n   */\n  get derKey(): ArrayBuffer | undefined {\n    return this.#inner.derKey;\n  }\n\n  /**\n   * The DER-encoded public key of this identity.\n   */\n  public toDer(): ArrayBuffer {\n    return this.#inner.toDer();\n  }\n\n  /**\n   * The inner {@link PublicKey} used by this identity.\n   */\n  public getPublicKey(): PublicKey {\n    return this.#inner;\n  }\n\n  /**\n   * The {@link Principal} of this identity.\n   */\n  public getPrincipal(): Principal {\n    return Principal.from(this.#inner.rawKey);\n  }\n\n  /**\n   * Required for the Identity interface, but cannot implemented for just a public key.\n   */\n  public transformRequest(): Promise<never> {\n    return Promise.reject(\n      'Not implemented. You are attempting to use a partial identity to sign calls, but this identity only has access to the public key.To sign calls, use a DelegationIdentity instead.',\n    );\n  }\n\n  constructor(inner: PublicKey) {\n    this.#inner = inner;\n  }\n}\n", "import {\n  DerEncodedPublicKey,\n  fromHex,\n  HttpAgentRequest,\n  PublicKey,\n  requestIdOf,\n  Signature,\n  SignIdentity,\n  toHex,\n} from '@dfinity/agent';\nimport { Principal } from '@dfinity/principal';\nimport * as cbor from 'simple-cbor';\nimport { PartialIdentity } from './partial';\n\nconst domainSeparator = new TextEncoder().encode('\\x1Aic-request-auth-delegation');\nconst requestDomainSeparator = new TextEncoder().encode('\\x0Aic-request');\n\nfunction _parseBlob(value: unknown): ArrayBuffer {\n  if (typeof value !== 'string' || value.length < 64) {\n    throw new Error('Invalid public key.');\n  }\n\n  return fromHex(value);\n}\n\n/**\n * A single delegation object that is signed by a private key. This is constructed by\n * `DelegationChain.create()`.\n *\n * {@see DelegationChain}\n */\nexport class Delegation {\n  constructor(\n    public readonly pubkey: ArrayBuffer,\n    public readonly expiration: bigint,\n    public readonly targets?: Principal[],\n  ) {}\n\n  public toCBOR(): cbor.CborValue {\n    // Expiration field needs to be encoded as a u64 specifically.\n    return cbor.value.map({\n      pubkey: cbor.value.bytes(this.pubkey),\n      expiration: cbor.value.u64(this.expiration.toString(16), 16),\n      ...(this.targets && {\n        targets: cbor.value.array(this.targets.map(t => cbor.value.bytes(t.toUint8Array()))),\n      }),\n    });\n  }\n\n  public toJSON(): JsonnableDelegation {\n    // every string should be hex and once-de-hexed,\n    // discoverable what it is (e.g. de-hex to get JSON with a 'type' property, or de-hex to DER\n    // with an OID). After de-hex, if it's not obvious what it is, it's an ArrayBuffer.\n    return {\n      expiration: this.expiration.toString(16),\n      pubkey: toHex(this.pubkey),\n      ...(this.targets && { targets: this.targets.map(p => p.toHex()) }),\n    };\n  }\n}\n\n/**\n * Type of ReturnType<Delegation.toJSON>.\n * The goal here is to stringify all non-JSON-compatible types to some bytes representation we can\n * stringify as hex.\n * (Hex shouldn't be ambiguous ever, because you can encode as DER with semantic OIDs).\n */\ninterface JsonnableDelegation {\n  // A BigInt of Nanoseconds since epoch as hex\n  expiration: string;\n  // Hexadecimal representation of the DER public key.\n  pubkey: string;\n  // Array of strings, where each string is hex of principal blob (*NOT* textual representation).\n  targets?: string[];\n}\n\n/**\n * A signed delegation, which lends its identity to the public key in the delegation\n * object. This is constructed by `DelegationChain.create()`.\n *\n * {@see DelegationChain}\n */\nexport interface SignedDelegation {\n  delegation: Delegation;\n  signature: Signature;\n}\n\n/**\n * Sign a single delegation object for a period of time.\n * @param from The identity that lends its delegation.\n * @param to The identity that receives the delegation.\n * @param expiration An expiration date for this delegation.\n * @param targets Limit this delegation to the target principals.\n */\nasync function _createSingleDelegation(\n  from: SignIdentity,\n  to: PublicKey,\n  expiration: Date,\n  targets?: Principal[],\n): Promise<SignedDelegation> {\n  const delegation: Delegation = new Delegation(\n    to.toDer(),\n    BigInt(+expiration) * BigInt(1000000), // In nanoseconds.\n    targets,\n  );\n  // The signature is calculated by signing the concatenation of the domain separator\n  // and the message.\n  // Note: To ensure Safari treats this as a user gesture, ensure to not use async methods\n  // besides the actualy webauthn functionality (such as `sign`). Safari will de-register\n  // a user gesture if you await an async call thats not fetch, xhr, or setTimeout.\n  const challenge = new Uint8Array([\n    ...domainSeparator,\n    ...new Uint8Array(requestIdOf(delegation)),\n  ]);\n  const signature = await from.sign(challenge);\n\n  return {\n    delegation,\n    signature,\n  };\n}\n\nexport interface JsonnableDelegationChain {\n  publicKey: string;\n  delegations: Array<{\n    signature: string;\n    delegation: {\n      pubkey: string;\n      expiration: string;\n      targets?: string[];\n    };\n  }>;\n}\n\n/**\n * A chain of delegations. This is JSON Serializable.\n * This is the object to serialize and pass to a DelegationIdentity. It does not keep any\n * private keys.\n */\nexport class DelegationChain {\n  /**\n   * Create a delegation chain between two (or more) keys. By default, the expiration time\n   * will be very short (15 minutes).\n   *\n   * To build a chain of more than 2 identities, this function needs to be called multiple times,\n   * passing the previous delegation chain into the options argument. For example:\n   * @example\n   * const rootKey = createKey();\n   * const middleKey = createKey();\n   * const bottomeKey = createKey();\n   *\n   * const rootToMiddle = await DelegationChain.create(\n   *   root, middle.getPublicKey(), Date.parse('2100-01-01'),\n   * );\n   * const middleToBottom = await DelegationChain.create(\n   *   middle, bottom.getPublicKey(), Date.parse('2100-01-01'), { previous: rootToMiddle },\n   * );\n   *\n   * // We can now use a delegation identity that uses the delegation above:\n   * const identity = DelegationIdentity.fromDelegation(bottomKey, middleToBottom);\n   * @param from The identity that will delegate.\n   * @param to The identity that gets delegated. It can now sign messages as if it was the\n   *           identity above.\n   * @param expiration The length the delegation is valid. By default, 15 minutes from calling\n   *                   this function.\n   * @param options A set of options for this delegation. expiration and previous\n   * @param options.previous - Another DelegationChain that this chain should start with.\n   * @param options.targets - targets that scope the delegation (e.g. Canister Principals)\n   */\n  public static async create(\n    from: SignIdentity,\n    to: PublicKey,\n    expiration: Date = new Date(Date.now() + 15 * 60 * 1000),\n    options: {\n      previous?: DelegationChain;\n      targets?: Principal[];\n    } = {},\n  ): Promise<DelegationChain> {\n    const delegation = await _createSingleDelegation(from, to, expiration, options.targets);\n    return new DelegationChain(\n      [...(options.previous?.delegations || []), delegation],\n      options.previous?.publicKey || from.getPublicKey().toDer(),\n    );\n  }\n\n  /**\n   * Creates a DelegationChain object from a JSON string.\n   * @param json The JSON string to parse.\n   */\n  public static fromJSON(json: string | JsonnableDelegationChain): DelegationChain {\n    const { publicKey, delegations } = typeof json === 'string' ? JSON.parse(json) : json;\n    if (!Array.isArray(delegations)) {\n      throw new Error('Invalid delegations.');\n    }\n\n    const parsedDelegations: SignedDelegation[] = delegations.map(signedDelegation => {\n      const { delegation, signature } = signedDelegation;\n      const { pubkey, expiration, targets } = delegation;\n      if (targets !== undefined && !Array.isArray(targets)) {\n        throw new Error('Invalid targets.');\n      }\n\n      return {\n        delegation: new Delegation(\n          _parseBlob(pubkey),\n          BigInt('0x' + expiration), // expiration in JSON is an hexa string (See toJSON() below).\n          targets &&\n            targets.map((t: unknown) => {\n              if (typeof t !== 'string') {\n                throw new Error('Invalid target.');\n              }\n              return Principal.fromHex(t);\n            }),\n        ),\n        signature: _parseBlob(signature) as Signature,\n      };\n    });\n\n    return new this(parsedDelegations, _parseBlob(publicKey) as DerEncodedPublicKey);\n  }\n\n  /**\n   * Creates a DelegationChain object from a list of delegations and a DER-encoded public key.\n   * @param delegations The list of delegations.\n   * @param publicKey The DER-encoded public key of the key-pair signing the first delegation.\n   */\n  public static fromDelegations(\n    delegations: SignedDelegation[],\n    publicKey: DerEncodedPublicKey,\n  ): DelegationChain {\n    return new this(delegations, publicKey);\n  }\n\n  protected constructor(\n    public readonly delegations: SignedDelegation[],\n    public readonly publicKey: DerEncodedPublicKey,\n  ) {}\n\n  public toJSON(): JsonnableDelegationChain {\n    return {\n      delegations: this.delegations.map(signedDelegation => {\n        const { delegation, signature } = signedDelegation;\n        const { targets } = delegation;\n        return {\n          delegation: {\n            expiration: delegation.expiration.toString(16),\n            pubkey: toHex(delegation.pubkey),\n            ...(targets && {\n              targets: targets.map(t => t.toHex()),\n            }),\n          },\n          signature: toHex(signature),\n        };\n      }),\n      publicKey: toHex(this.publicKey),\n    };\n  }\n}\n\n/**\n * An Identity that adds delegation to a request. Everywhere in this class, the name\n * innerKey refers to the SignIdentity that is being used to sign the requests, while\n * originalKey is the identity that is being borrowed. More identities can be used\n * in the middle to delegate.\n */\nexport class DelegationIdentity extends SignIdentity {\n  /**\n   * Create a delegation without having access to delegateKey.\n   * @param key The key used to sign the reqyests.\n   * @param delegation A delegation object created using `createDelegation`.\n   */\n  public static fromDelegation(\n    key: Pick<SignIdentity, 'sign'>,\n    delegation: DelegationChain,\n  ): DelegationIdentity {\n    return new this(key, delegation);\n  }\n\n  protected constructor(\n    private _inner: Pick<SignIdentity, 'sign'>,\n    private _delegation: DelegationChain,\n  ) {\n    super();\n  }\n\n  public getDelegation(): DelegationChain {\n    return this._delegation;\n  }\n\n  public getPublicKey(): PublicKey {\n    return {\n      derKey: this._delegation.publicKey,\n      toDer: () => this._delegation.publicKey,\n    };\n  }\n  public sign(blob: ArrayBuffer): Promise<Signature> {\n    return this._inner.sign(blob);\n  }\n\n  public async transformRequest(request: HttpAgentRequest): Promise<unknown> {\n    const { body, ...fields } = request;\n    const requestId = await requestIdOf(body);\n    return {\n      ...fields,\n      body: {\n        content: body,\n        sender_sig: await this.sign(\n          new Uint8Array([...requestDomainSeparator, ...new Uint8Array(requestId)]),\n        ),\n        sender_delegation: this._delegation.delegations,\n        sender_pubkey: this._delegation.publicKey,\n      },\n    };\n  }\n}\n\n/**\n * A partial delegated identity, representing a delegation chain and the public key that it targets\n */\nexport class PartialDelegationIdentity extends PartialIdentity {\n  #delegation: DelegationChain;\n\n  /**\n   * The Delegation Chain of this identity.\n   */\n  get delegation(): DelegationChain {\n    return this.#delegation;\n  }\n\n  private constructor(inner: PublicKey, delegation: DelegationChain) {\n    super(inner);\n    this.#delegation = delegation;\n  }\n\n  /**\n   * Create a {@link PartialDelegationIdentity} from a {@link PublicKey} and a {@link DelegationChain}.\n   * @param key The {@link PublicKey} to delegate to.\n   * @param delegation a {@link DelegationChain} targeting the inner key.\n   * @constructs PartialDelegationIdentity\n   */\n  public static fromDelegation(key: PublicKey, delegation: DelegationChain) {\n    return new PartialDelegationIdentity(key, delegation);\n  }\n}\n\n/**\n * List of things to check for a delegation chain validity.\n */\nexport interface DelegationValidChecks {\n  /**\n   * Check that the scope is amongst the scopes that this delegation has access to.\n   */\n  scope?: Principal | string | Array<Principal | string>;\n}\n\n/**\n * Analyze a DelegationChain and validate that it's valid, ie. not expired and apply to the\n * scope.\n * @param chain The chain to validate.\n * @param checks Various checks to validate on the chain.\n */\nexport function isDelegationValid(chain: DelegationChain, checks?: DelegationValidChecks): boolean {\n  // Verify that the no delegation is expired. If any are in the chain, returns false.\n  for (const { delegation } of chain.delegations) {\n    // prettier-ignore\n    if (+new Date(Number(delegation.expiration / BigInt(1000000))) <= +Date.now()) {\n      return false;\n    }\n  }\n\n  // Check the scopes.\n  const scopes: Principal[] = [];\n  const maybeScope = checks?.scope;\n  if (maybeScope) {\n    if (Array.isArray(maybeScope)) {\n      scopes.push(...maybeScope.map(s => (typeof s === 'string' ? Principal.fromText(s) : s)));\n    } else {\n      scopes.push(typeof maybeScope === 'string' ? Principal.fromText(maybeScope) : maybeScope);\n    }\n  }\n\n  for (const s of scopes) {\n    const scope = s.toText();\n    for (const { delegation } of chain.delegations) {\n      if (delegation.targets === undefined) {\n        continue;\n      }\n\n      let none = true;\n      for (const target of delegation.targets) {\n        if (target.toText() === scope) {\n          none = false;\n          break;\n        }\n      }\n      if (none) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n}\n", "import {\n  DerEncodedPublicKey,\n  PublicKey,\n  Signature,\n  SignIdentity,\n  wrapDER,\n  DER_COSE_OID,\n  fromHex,\n  toHex,\n} from '@dfinity/agent';\nimport borc from 'borc';\nimport { randomBytes } from '@noble/hashes/utils';\nimport { bufFromBufLike } from '@dfinity/candid';\n\nfunction _coseToDerEncodedBlob(cose: ArrayBuffer): DerEncodedPublicKey {\n  return wrapDER(cose, DER_COSE_OID).buffer as DerEncodedPublicKey;\n}\n\ntype PublicKeyCredentialWithAttachment = PublicKeyCredential & {\n  // Extends `PublicKeyCredential` with an optional field introduced in the WebAuthn level 3 spec:\n  // https://w3c.github.io/webauthn/#dom-publickeycredential-authenticatorattachment\n  // Already supported by Chrome, Safari and Edge\n  // Note: `null` is included here as a possible value because Edge set this value to null in the\n  // past.\n  authenticatorAttachment: AuthenticatorAttachment | undefined | null;\n};\n\n/**\n * From the documentation;\n * The authData is a byte array described in the spec. Parsing it will involve slicing bytes from\n * the array and converting them into usable objects.\n *\n * See https://webauthn.guide/#registration (subsection \"Example: Parsing the authenticator data\").\n * @param authData The authData field of the attestation response.\n * @returns The COSE key of the authData.\n */\nfunction _authDataToCose(authData: ArrayBuffer): ArrayBuffer {\n  const dataView = new DataView(new ArrayBuffer(2));\n  const idLenBytes = authData.slice(53, 55);\n  [...new Uint8Array(idLenBytes)].forEach((v, i) => dataView.setUint8(i, v));\n  const credentialIdLength = dataView.getUint16(0);\n\n  // Get the public key object.\n  return authData.slice(55 + credentialIdLength);\n}\n\nexport class CosePublicKey implements PublicKey {\n  protected _encodedKey: DerEncodedPublicKey;\n\n  public constructor(protected _cose: ArrayBuffer) {\n    this._encodedKey = _coseToDerEncodedBlob(_cose);\n  }\n\n  public toDer(): DerEncodedPublicKey {\n    return this._encodedKey;\n  }\n\n  public getCose(): ArrayBuffer {\n    return this._cose;\n  }\n}\n\n/**\n * Create a challenge from a string or array. The default challenge is always the same\n * because we don't need to verify the authenticity of the key on the server (we don't\n * register our keys with the IC). Any challenge would do, even one per key, randomly\n * generated.\n * @param challenge The challenge to transform into a byte array. By default a hard\n *        coded string.\n */\nfunction _createChallengeBuffer(challenge: string | Uint8Array = '<ic0.app>'): Uint8Array {\n  if (typeof challenge === 'string') {\n    return Uint8Array.from(challenge, c => c.charCodeAt(0));\n  } else {\n    return challenge;\n  }\n}\n\n/**\n * Create a credentials to authenticate with a server. This is necessary in order in\n * WebAuthn to get credentials IDs (which give us the public key and allow us to\n * sign), but in the case of the Internet Computer, we don't actually need to register\n * it, so we don't.\n * @param credentialCreationOptions an optional CredentialCreationOptions object\n */\nasync function _createCredential(\n  credentialCreationOptions?: CredentialCreationOptions,\n): Promise<PublicKeyCredentialWithAttachment | null> {\n  const creds = (await navigator.credentials.create(\n    credentialCreationOptions ?? {\n      publicKey: {\n        authenticatorSelection: {\n          userVerification: 'preferred',\n        },\n        attestation: 'direct',\n        challenge: _createChallengeBuffer(),\n        pubKeyCredParams: [{ type: 'public-key', alg: PubKeyCoseAlgo.ECDSA_WITH_SHA256 }],\n        rp: {\n          name: 'Internet Identity Service',\n        },\n        user: {\n          id: randomBytes(16),\n          name: 'Internet Identity',\n          displayName: 'Internet Identity',\n        },\n      },\n    },\n  )) as PublicKeyCredentialWithAttachment | null;\n\n  if (creds === null) {\n    return null;\n  }\n\n  return {\n    // do _not_ use ...creds here, as creds is not enumerable in all cases\n    id: creds.id,\n    response: creds.response,\n    type: creds.type,\n    authenticatorAttachment: creds.authenticatorAttachment,\n    getClientExtensionResults: creds.getClientExtensionResults,\n    // Some password managers will return a Uint8Array, so we ensure we return an ArrayBuffer.\n    rawId: bufFromBufLike(creds.rawId),\n  };\n}\n\n// See https://www.iana.org/assignments/cose/cose.xhtml#algorithms for a complete\n// list of these algorithms. We only list the ones we support here.\nenum PubKeyCoseAlgo {\n  ECDSA_WITH_SHA256 = -7,\n}\n\n/**\n * A SignIdentity that uses `navigator.credentials`. See https://webauthn.guide/ for\n * more information about WebAuthentication.\n */\nexport class WebAuthnIdentity extends SignIdentity {\n  /**\n   * Create an identity from a JSON serialization.\n   * @param json - json to parse\n   */\n  public static fromJSON(json: string): WebAuthnIdentity {\n    const { publicKey, rawId } = JSON.parse(json);\n\n    if (typeof publicKey !== 'string' || typeof rawId !== 'string') {\n      throw new Error('Invalid JSON string.');\n    }\n\n    return new this(fromHex(rawId), fromHex(publicKey), undefined);\n  }\n\n  /**\n   * Create an identity.\n   * @param credentialCreationOptions an optional CredentialCreationOptions Challenge\n   */\n  public static async create(\n    credentialCreationOptions?: CredentialCreationOptions,\n  ): Promise<WebAuthnIdentity> {\n    const creds = await _createCredential(credentialCreationOptions);\n\n    if (!creds || creds.type !== 'public-key') {\n      throw new Error('Could not create credentials.');\n    }\n\n    const response = creds.response as AuthenticatorAttestationResponse;\n    if (response.attestationObject === undefined) {\n      throw new Error('Was expecting an attestation response.');\n    }\n\n    // Parse the attestationObject as CBOR.\n    const attObject = borc.decodeFirst(new Uint8Array(response.attestationObject));\n\n    return new this(\n      creds.rawId,\n      _authDataToCose(attObject.authData),\n      creds.authenticatorAttachment ?? undefined,\n    );\n  }\n\n  protected _publicKey: CosePublicKey;\n\n  public constructor(\n    public readonly rawId: ArrayBuffer,\n    cose: ArrayBuffer,\n    protected authenticatorAttachment: AuthenticatorAttachment | undefined,\n  ) {\n    super();\n    this._publicKey = new CosePublicKey(cose);\n  }\n\n  public getPublicKey(): PublicKey {\n    return this._publicKey;\n  }\n\n  /**\n   * WebAuthn level 3 spec introduces a new attribute on successful WebAuthn interactions,\n   * see https://w3c.github.io/webauthn/#dom-publickeycredential-authenticatorattachment.\n   * This attribute is already implemented for Chrome, Safari and Edge.\n   *\n   * Given the attribute is only available after a successful interaction, the information is\n   * provided opportunistically and might also be `undefined`.\n   */\n  public getAuthenticatorAttachment(): AuthenticatorAttachment | undefined {\n    return this.authenticatorAttachment;\n  }\n\n  public async sign(blob: ArrayBuffer): Promise<Signature> {\n    const result = (await navigator.credentials.get({\n      publicKey: {\n        allowCredentials: [\n          {\n            type: 'public-key',\n            id: this.rawId,\n          },\n        ],\n        challenge: blob,\n        userVerification: 'preferred',\n      },\n    })) as PublicKeyCredentialWithAttachment;\n\n    if (result.authenticatorAttachment !== null) {\n      this.authenticatorAttachment = result.authenticatorAttachment;\n    }\n\n    const response = result.response as AuthenticatorAssertionResponse;\n\n    const cbor = borc.encode(\n      new borc.Tagged(55799, {\n        authenticator_data: new Uint8Array(response.authenticatorData),\n        client_data_json: new TextDecoder().decode(response.clientDataJSON),\n        signature: new Uint8Array(response.signature),\n      }),\n    );\n    if (!cbor) {\n      throw new Error('failed to encode cbor');\n    }\n    return cbor.buffer as Signature;\n  }\n\n  /**\n   * Allow for JSON serialization of all information needed to reuse this identity.\n   */\n  public toJSON(): JsonnableWebAuthnIdentity {\n    return {\n      publicKey: toHex(this._publicKey.getCose()),\n      rawId: toHex(this.rawId),\n    };\n  }\n}\n\n/**\n * ReturnType<WebAuthnIdentity.toJSON>\n */\nexport interface JsonnableWebAuthnIdentity {\n  // The hexadecimal representation of the DER encoded public key.\n  publicKey: string;\n  // The string representation of the local WebAuthn Credential.id (base64url encoded).\n  rawId: string;\n}\n", "export { Ed25519KeyIdentity, Ed25519PublicKey } from './identity/ed25519';\nexport * from './identity/ecdsa';\nexport * from './identity/delegation';\nexport * from './identity/partial';\nexport { WebAuthnIdentity } from './identity/webauthn';\nexport { wrapDER, unwrapDER, DER_COSE_OID, ED25519_OID } from '@dfinity/agent';\n\n/**\n * @deprecated due to size of dependencies. Use `@dfinity/identity-secp256k1` instead.\n */\nexport class Secp256k1KeyIdentity {\n  constructor() {\n    throw new Error(\n      'Secp256k1KeyIdentity has been moved to a new repo: @dfinity/identity-secp256k1',\n    );\n  }\n}\n", "/** @module IdleManager */\ntype IdleCB = () => unknown;\nexport type IdleManagerOptions = {\n  /**\n   * Callback after the user has gone idle\n   */\n  onIdle?: IdleCB;\n  /**\n   * timeout in ms\n   * @default 30 minutes [600_000]\n   */\n  idleTimeout?: number;\n  /**\n   * capture scroll events\n   * @default false\n   */\n  captureScroll?: boolean;\n  /**\n   * scroll debounce time in ms\n   * @default 100\n   */\n  scrollDebounce?: number;\n};\n\nconst events = ['mousedown', 'mousemove', 'keydown', 'touchstart', 'wheel'];\n\n/**\n * Detects if the user has been idle for a duration of `idleTimeout` ms, and calls `onIdle` and registered callbacks.\n * By default, the IdleManager will log a user out after 10 minutes of inactivity.\n * To override these defaults, you can pass an `onIdle` callback, or configure a custom `idleTimeout` in milliseconds\n */\nexport class IdleManager {\n  callbacks: IdleCB[] = [];\n  idleTimeout: IdleManagerOptions['idleTimeout'] = 10 * 60 * 1000;\n  timeoutID?: number = undefined;\n\n  /**\n   * Creates an {@link IdleManager}\n   * @param {IdleManagerOptions} options Optional configuration\n   * @see {@link IdleManagerOptions}\n   * @param options.onIdle Callback once user has been idle. Use to prompt for fresh login, and use `Actor.agentOf(your_actor).invalidateIdentity()` to protect the user\n   * @param options.idleTimeout timeout in ms\n   * @param options.captureScroll capture scroll events\n   * @param options.scrollDebounce scroll debounce time in ms\n   */\n  public static create(\n    options: {\n      /**\n       * Callback after the user has gone idle\n       * @see {@link IdleCB}\n       */\n      onIdle?: () => unknown;\n      /**\n       * timeout in ms\n       * @default 10 minutes [600_000]\n       */\n      idleTimeout?: number;\n      /**\n       * capture scroll events\n       * @default false\n       */\n      captureScroll?: boolean;\n      /**\n       * scroll debounce time in ms\n       * @default 100\n       */\n      scrollDebounce?: number;\n    } = {},\n  ): IdleManager {\n    return new this(options);\n  }\n\n  /**\n   * @protected\n   * @param options {@link IdleManagerOptions}\n   */\n  protected constructor(options: IdleManagerOptions = {}) {\n    const { onIdle, idleTimeout = 10 * 60 * 1000 } = options || {};\n\n    this.callbacks = onIdle ? [onIdle] : [];\n    this.idleTimeout = idleTimeout;\n\n    const _resetTimer = this._resetTimer.bind(this);\n\n    window.addEventListener('load', _resetTimer, true);\n\n    events.forEach(function (name) {\n      document.addEventListener(name, _resetTimer, true);\n    });\n\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    const debounce = (func: Function, wait: number) => {\n      let timeout: number | undefined;\n      return (...args: unknown[]) => {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const context = this;\n        const later = function () {\n          timeout = undefined;\n          func.apply(context, args);\n        };\n        clearTimeout(timeout);\n        timeout = window.setTimeout(later, wait);\n      };\n    };\n\n    if (options?.captureScroll) {\n      // debounce scroll events\n      const scroll = debounce(_resetTimer, options?.scrollDebounce ?? 100);\n      window.addEventListener('scroll', scroll, true);\n    }\n\n    _resetTimer();\n  }\n\n  /**\n   * @param {IdleCB} callback function to be called when user goes idle\n   */\n  public registerCallback(callback: IdleCB): void {\n    this.callbacks.push(callback);\n  }\n\n  /**\n   * Cleans up the idle manager and its listeners\n   */\n  public exit(): void {\n    clearTimeout(this.timeoutID);\n    window.removeEventListener('load', this._resetTimer, true);\n\n    const _resetTimer = this._resetTimer.bind(this);\n    events.forEach(function (name) {\n      document.removeEventListener(name, _resetTimer, true);\n    });\n    this.callbacks.forEach(cb => cb());\n  }\n\n  /**\n   * Resets the timeouts during cleanup\n   */\n  _resetTimer(): void {\n    const exit = this.exit.bind(this);\n    window.clearTimeout(this.timeoutID);\n    this.timeoutID = window.setTimeout(exit, this.idleTimeout);\n  }\n}\n", "const instanceOfAny = (object, constructors) => constructors.some((c) => object instanceof c);\n\nlet idbProxyableTypes;\nlet cursorAdvanceMethods;\n// This is a function to prevent it throwing up in node environments.\nfunction getIdbProxyableTypes() {\n    return (idbProxyableTypes ||\n        (idbProxyableTypes = [\n            IDBDatabase,\n            IDBObjectStore,\n            IDBIndex,\n            IDBCursor,\n            IDBTransaction,\n        ]));\n}\n// This is a function to prevent it throwing up in node environments.\nfunction getCursorAdvanceMethods() {\n    return (cursorAdvanceMethods ||\n        (cursorAdvanceMethods = [\n            IDBCursor.prototype.advance,\n            IDBCursor.prototype.continue,\n            IDBCursor.prototype.continuePrimaryKey,\n        ]));\n}\nconst cursorRequestMap = new WeakMap();\nconst transactionDoneMap = new WeakMap();\nconst transactionStoreNamesMap = new WeakMap();\nconst transformCache = new WeakMap();\nconst reverseTransformCache = new WeakMap();\nfunction promisifyRequest(request) {\n    const promise = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            request.removeEventListener('success', success);\n            request.removeEventListener('error', error);\n        };\n        const success = () => {\n            resolve(wrap(request.result));\n            unlisten();\n        };\n        const error = () => {\n            reject(request.error);\n            unlisten();\n        };\n        request.addEventListener('success', success);\n        request.addEventListener('error', error);\n    });\n    promise\n        .then((value) => {\n        // Since cursoring reuses the IDBRequest (*sigh*), we cache it for later retrieval\n        // (see wrapFunction).\n        if (value instanceof IDBCursor) {\n            cursorRequestMap.set(value, request);\n        }\n        // Catching to avoid \"Uncaught Promise exceptions\"\n    })\n        .catch(() => { });\n    // This mapping exists in reverseTransformCache but doesn't doesn't exist in transformCache. This\n    // is because we create many promises from a single IDBRequest.\n    reverseTransformCache.set(promise, request);\n    return promise;\n}\nfunction cacheDonePromiseForTransaction(tx) {\n    // Early bail if we've already created a done promise for this transaction.\n    if (transactionDoneMap.has(tx))\n        return;\n    const done = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            tx.removeEventListener('complete', complete);\n            tx.removeEventListener('error', error);\n            tx.removeEventListener('abort', error);\n        };\n        const complete = () => {\n            resolve();\n            unlisten();\n        };\n        const error = () => {\n            reject(tx.error || new DOMException('AbortError', 'AbortError'));\n            unlisten();\n        };\n        tx.addEventListener('complete', complete);\n        tx.addEventListener('error', error);\n        tx.addEventListener('abort', error);\n    });\n    // Cache it for later retrieval.\n    transactionDoneMap.set(tx, done);\n}\nlet idbProxyTraps = {\n    get(target, prop, receiver) {\n        if (target instanceof IDBTransaction) {\n            // Special handling for transaction.done.\n            if (prop === 'done')\n                return transactionDoneMap.get(target);\n            // Polyfill for objectStoreNames because of Edge.\n            if (prop === 'objectStoreNames') {\n                return target.objectStoreNames || transactionStoreNamesMap.get(target);\n            }\n            // Make tx.store return the only store in the transaction, or undefined if there are many.\n            if (prop === 'store') {\n                return receiver.objectStoreNames[1]\n                    ? undefined\n                    : receiver.objectStore(receiver.objectStoreNames[0]);\n            }\n        }\n        // Else transform whatever we get back.\n        return wrap(target[prop]);\n    },\n    set(target, prop, value) {\n        target[prop] = value;\n        return true;\n    },\n    has(target, prop) {\n        if (target instanceof IDBTransaction &&\n            (prop === 'done' || prop === 'store')) {\n            return true;\n        }\n        return prop in target;\n    },\n};\nfunction replaceTraps(callback) {\n    idbProxyTraps = callback(idbProxyTraps);\n}\nfunction wrapFunction(func) {\n    // Due to expected object equality (which is enforced by the caching in `wrap`), we\n    // only create one new func per func.\n    // Edge doesn't support objectStoreNames (booo), so we polyfill it here.\n    if (func === IDBDatabase.prototype.transaction &&\n        !('objectStoreNames' in IDBTransaction.prototype)) {\n        return function (storeNames, ...args) {\n            const tx = func.call(unwrap(this), storeNames, ...args);\n            transactionStoreNamesMap.set(tx, storeNames.sort ? storeNames.sort() : [storeNames]);\n            return wrap(tx);\n        };\n    }\n    // Cursor methods are special, as the behaviour is a little more different to standard IDB. In\n    // IDB, you advance the cursor and wait for a new 'success' on the IDBRequest that gave you the\n    // cursor. It's kinda like a promise that can resolve with many values. That doesn't make sense\n    // with real promises, so each advance methods returns a new promise for the cursor object, or\n    // undefined if the end of the cursor has been reached.\n    if (getCursorAdvanceMethods().includes(func)) {\n        return function (...args) {\n            // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n            // the original object.\n            func.apply(unwrap(this), args);\n            return wrap(cursorRequestMap.get(this));\n        };\n    }\n    return function (...args) {\n        // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n        // the original object.\n        return wrap(func.apply(unwrap(this), args));\n    };\n}\nfunction transformCachableValue(value) {\n    if (typeof value === 'function')\n        return wrapFunction(value);\n    // This doesn't return, it just creates a 'done' promise for the transaction,\n    // which is later returned for transaction.done (see idbObjectHandler).\n    if (value instanceof IDBTransaction)\n        cacheDonePromiseForTransaction(value);\n    if (instanceOfAny(value, getIdbProxyableTypes()))\n        return new Proxy(value, idbProxyTraps);\n    // Return the same value back if we're not going to transform it.\n    return value;\n}\nfunction wrap(value) {\n    // We sometimes generate multiple promises from a single IDBRequest (eg when cursoring), because\n    // IDB is weird and a single IDBRequest can yield many responses, so these can't be cached.\n    if (value instanceof IDBRequest)\n        return promisifyRequest(value);\n    // If we've already transformed this value before, reuse the transformed value.\n    // This is faster, but it also provides object equality.\n    if (transformCache.has(value))\n        return transformCache.get(value);\n    const newValue = transformCachableValue(value);\n    // Not all types are transformed.\n    // These may be primitive types, so they can't be WeakMap keys.\n    if (newValue !== value) {\n        transformCache.set(value, newValue);\n        reverseTransformCache.set(newValue, value);\n    }\n    return newValue;\n}\nconst unwrap = (value) => reverseTransformCache.get(value);\n\nexport { reverseTransformCache as a, instanceOfAny as i, replaceTraps as r, unwrap as u, wrap as w };\n", "import { w as wrap, r as replaceTraps } from './wrap-idb-value.js';\nexport { u as unwrap, w as wrap } from './wrap-idb-value.js';\n\n/**\n * Open a database.\n *\n * @param name Name of the database.\n * @param version Schema version.\n * @param callbacks Additional callbacks.\n */\nfunction openDB(name, version, { blocked, upgrade, blocking, terminated } = {}) {\n    const request = indexedDB.open(name, version);\n    const openPromise = wrap(request);\n    if (upgrade) {\n        request.addEventListener('upgradeneeded', (event) => {\n            upgrade(wrap(request.result), event.oldVersion, event.newVersion, wrap(request.transaction), event);\n        });\n    }\n    if (blocked) {\n        request.addEventListener('blocked', (event) => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event.newVersion, event));\n    }\n    openPromise\n        .then((db) => {\n        if (terminated)\n            db.addEventListener('close', () => terminated());\n        if (blocking) {\n            db.addEventListener('versionchange', (event) => blocking(event.oldVersion, event.newVersion, event));\n        }\n    })\n        .catch(() => { });\n    return openPromise;\n}\n/**\n * Delete a database.\n *\n * @param name Name of the database.\n */\nfunction deleteDB(name, { blocked } = {}) {\n    const request = indexedDB.deleteDatabase(name);\n    if (blocked) {\n        request.addEventListener('blocked', (event) => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event));\n    }\n    return wrap(request).then(() => undefined);\n}\n\nconst readMethods = ['get', 'getKey', 'getAll', 'getAllKeys', 'count'];\nconst writeMethods = ['put', 'add', 'delete', 'clear'];\nconst cachedMethods = new Map();\nfunction getMethod(target, prop) {\n    if (!(target instanceof IDBDatabase &&\n        !(prop in target) &&\n        typeof prop === 'string')) {\n        return;\n    }\n    if (cachedMethods.get(prop))\n        return cachedMethods.get(prop);\n    const targetFuncName = prop.replace(/FromIndex$/, '');\n    const useIndex = prop !== targetFuncName;\n    const isWrite = writeMethods.includes(targetFuncName);\n    if (\n    // Bail if the target doesn't exist on the target. Eg, getAll isn't in Edge.\n    !(targetFuncName in (useIndex ? IDBIndex : IDBObjectStore).prototype) ||\n        !(isWrite || readMethods.includes(targetFuncName))) {\n        return;\n    }\n    const method = async function (storeName, ...args) {\n        // isWrite ? 'readwrite' : undefined gzipps better, but fails in Edge :(\n        const tx = this.transaction(storeName, isWrite ? 'readwrite' : 'readonly');\n        let target = tx.store;\n        if (useIndex)\n            target = target.index(args.shift());\n        // Must reject if op rejects.\n        // If it's a write operation, must reject if tx.done rejects.\n        // Must reject with op rejection first.\n        // Must resolve with op value.\n        // Must handle both promises (no unhandled rejections)\n        return (await Promise.all([\n            target[targetFuncName](...args),\n            isWrite && tx.done,\n        ]))[0];\n    };\n    cachedMethods.set(prop, method);\n    return method;\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get: (target, prop, receiver) => getMethod(target, prop) || oldTraps.get(target, prop, receiver),\n    has: (target, prop) => !!getMethod(target, prop) || oldTraps.has(target, prop),\n}));\n\nexport { deleteDB, openDB };\n", "import { openDB, IDBPDatabase } from 'idb';\nimport { DB_VERSION, isBrowser, KEY_STORAGE_DELEGATION, KEY_STORAGE_KEY } from './storage';\n\ntype Database = IDBPDatabase<unknown>;\ntype IDBValidKey = string | number | Date | BufferSource | IDBValidKey[];\nconst AUTH_DB_NAME = 'auth-client-db';\nconst OBJECT_STORE_NAME = 'ic-keyval';\n\nconst _openDbStore = async (\n  dbName = AUTH_DB_NAME,\n  storeName = OBJECT_STORE_NAME,\n  version: number,\n) => {\n  // Clear legacy stored delegations\n  if (isBrowser && localStorage?.getItem(KEY_STORAGE_DELEGATION)) {\n    localStorage.removeItem(KEY_STORAGE_DELEGATION);\n    localStorage.removeItem(KEY_STORAGE_KEY);\n  }\n  return await openDB(dbName, version, {\n    upgrade: database => {\n      database.objectStoreNames;\n      if (database.objectStoreNames.contains(storeName)) {\n        database.clear(storeName);\n      }\n      database.createObjectStore(storeName);\n    },\n  });\n};\n\nasync function _getValue<T>(\n  db: Database,\n  storeName: string,\n  key: IDBValidKey,\n): Promise<T | undefined> {\n  return await db.get(storeName, key);\n}\n\nasync function _setValue<T>(\n  db: Database,\n  storeName: string,\n  key: IDBValidKey,\n  value: T,\n): Promise<IDBValidKey> {\n  return await db.put(storeName, value, key);\n}\n\nasync function _removeValue(db: Database, storeName: string, key: IDBValidKey): Promise<void> {\n  return await db.delete(storeName, key);\n}\n\nexport type DBCreateOptions = {\n  dbName?: string;\n  storeName?: string;\n  version?: number;\n};\n\n/**\n * Simple Key Value store\n * Defaults to `'auth-client-db'` with an object store of `'ic-keyval'`\n */\nexport class IdbKeyVal {\n  /**\n   * @param {DBCreateOptions} options - DBCreateOptions\n   * @param {DBCreateOptions['dbName']} options.dbName name for the indexeddb database\n   * @default\n   * @param {DBCreateOptions['storeName']} options.storeName name for the indexeddb Data Store\n   * @default\n   * @param {DBCreateOptions['version']} options.version version of the database. Increment to safely upgrade\n   * @constructs an {@link IdbKeyVal}\n   */\n  public static async create(options?: DBCreateOptions): Promise<IdbKeyVal> {\n    const { dbName = AUTH_DB_NAME, storeName = OBJECT_STORE_NAME, version = DB_VERSION } = options ?? {};\n    const db = await _openDbStore(dbName, storeName, version);\n    return new IdbKeyVal(db, storeName);\n  }\n\n  // Do not use - instead prefer create\n  private constructor(private _db: Database, private _storeName: string) {}\n\n  /**\n   * Basic setter\n   * @param {IDBValidKey} key string | number | Date | BufferSource | IDBValidKey[]\n   * @param value value to set\n   * @returns void\n   */\n  public async set<T>(key: IDBValidKey, value: T) {\n    return await _setValue<T>(this._db, this._storeName, key, value);\n  }\n  /**\n   * Basic getter\n   * Pass in a type T for type safety if you know the type the value will have if it is found\n   * @param {IDBValidKey} key string | number | Date | BufferSource | IDBValidKey[]\n   * @returns `Promise<T | null>`\n   * @example\n   * await get<string>('exampleKey') -> 'exampleValue'\n   */\n  public async get<T>(key: IDBValidKey): Promise<T | null> {\n    return (await _getValue<T>(this._db, this._storeName, key)) ?? null;\n  }\n\n  /**\n   * Remove a key\n   * @param key {@link IDBValidKey}\n   * @returns void\n   */\n  public async remove(key: IDBValidKey) {\n    return await _removeValue(this._db, this._storeName, key);\n  }\n}\n", "import { DBCreateOptions, IdbKeyVal } from './db';\n\nexport const KEY_STORAGE_KEY = 'identity';\nexport const KEY_STORAGE_DELEGATION = 'delegation';\nexport const KEY_VECTOR = 'iv';\n// Increment if any fields are modified\nexport const DB_VERSION = 1;\n\nexport const isBrowser = typeof window !== 'undefined';\n\nexport type StoredKey = string | CryptoKeyPair;\n\n/**\n * Interface for persisting user authentication data\n */\nexport interface AuthClientStorage {\n  get(key: string): Promise<StoredKey | null>;\n\n  set(key: string, value: StoredKey): Promise<void>;\n\n  remove(key: string): Promise<void>;\n}\n\n/**\n * Legacy implementation of AuthClientStorage, for use where IndexedDb is not available\n */\nexport class LocalStorage implements AuthClientStorage {\n  constructor(public readonly prefix = 'ic-', private readonly _localStorage?: Storage) {}\n\n  public get(key: string): Promise<string | null> {\n    return Promise.resolve(this._getLocalStorage().getItem(this.prefix + key));\n  }\n\n  public set(key: string, value: string): Promise<void> {\n    this._getLocalStorage().setItem(this.prefix + key, value);\n    return Promise.resolve();\n  }\n\n  public remove(key: string): Promise<void> {\n    this._getLocalStorage().removeItem(this.prefix + key);\n    return Promise.resolve();\n  }\n\n  private _getLocalStorage() {\n    if (this._localStorage) {\n      return this._localStorage;\n    }\n\n    const ls =\n      typeof window === 'undefined'\n        ? typeof global === 'undefined'\n          ? typeof self === 'undefined'\n            ? undefined\n            : self.localStorage\n          : global.localStorage\n        : window.localStorage;\n\n    if (!ls) {\n      throw new Error('Could not find local storage.');\n    }\n\n    return ls;\n  }\n}\n\n/**\n * IdbStorage is an interface for simple storage of string key-value pairs built on {@link IdbKeyVal}\n *\n * It replaces {@link LocalStorage}\n * @see implements {@link AuthClientStorage}\n */\nexport class IdbStorage implements AuthClientStorage {\n  #options: DBCreateOptions;\n\n  /**\n   * @param options - DBCreateOptions\n   * @param options.dbName - name for the indexeddb database\n   * @param options.storeName - name for the indexeddb Data Store\n   * @param options.version - version of the database. Increment to safely upgrade\n   * @constructs an {@link IdbStorage}\n   * @example\n   * ```typescript\n   * const storage = new IdbStorage({ dbName: 'my-db', storeName: 'my-store', version: 2 });\n   * ```\n   */\n  constructor(options?: DBCreateOptions) {\n    this.#options = options ?? {};\n  }\n\n  // Initializes a KeyVal on first request\n  private initializedDb: IdbKeyVal | undefined;\n  get _db(): Promise<IdbKeyVal> {\n    return new Promise(resolve => {\n      if (this.initializedDb) {\n        resolve(this.initializedDb);\n        return;\n      }\n      IdbKeyVal.create(this.#options).then(db => {\n        this.initializedDb = db;\n        resolve(db);\n      });\n    });\n  }\n\n  public async get<T = string>(key: string): Promise<T | null> {\n    const db = await this._db;\n    return await db.get<T>(key);\n    // return (await db.get<string>(key)) ?? null;\n  }\n\n  public async set<T = string>(key: string, value: T): Promise<void> {\n    const db = await this._db;\n    await db.set(key, value);\n  }\n\n  public async remove(key: string): Promise<void> {\n    const db = await this._db;\n    await db.remove(key);\n  }\n}\n", "/** @module AuthClient */\nimport {\n  AnonymousIdentity,\n  DerEncodedPublicKey,\n  Identity,\n  Signature,\n  SignIdentity,\n} from '@dfinity/agent';\nimport {\n  Delegation,\n  DelegationChain,\n  isDelegationValid,\n  DelegationIdentity,\n  Ed25519KeyIdentity,\n  ECDSAKeyIdentity,\n  PartialDelegationIdentity,\n} from '@dfinity/identity';\nimport { Principal } from '@dfinity/principal';\nimport { IdleManager, IdleManagerOptions } from './idleManager';\nimport {\n  AuthClientStorage,\n  IdbStorage,\n  isBrowser,\n  KEY_STORAGE_DELEGATION,\n  KEY_STORAGE_KEY,\n  KEY_VECTOR,\n  LocalStorage,\n} from './storage';\nimport { PartialIdentity } from '@dfinity/identity/lib/cjs/identity/partial';\n\nexport { AuthClientStorage, IdbStorage, LocalStorage, KEY_STORAGE_DELEGATION, KEY_STORAGE_KEY } from './storage';\nexport { IdbKeyVal, DBCreateOptions } from './db';\n\nconst IDENTITY_PROVIDER_DEFAULT = 'https://identity.ic0.app';\nconst IDENTITY_PROVIDER_ENDPOINT = '#authorize';\n\nconst ECDSA_KEY_LABEL = 'ECDSA';\nconst ED25519_KEY_LABEL = 'Ed25519';\ntype BaseKeyType = typeof ECDSA_KEY_LABEL | typeof ED25519_KEY_LABEL;\n\nconst INTERRUPT_CHECK_INTERVAL = 500;\n\nexport const ERROR_USER_INTERRUPT = 'UserInterrupt';\n\n/**\n * List of options for creating an {@link AuthClient}.\n */\nexport interface AuthClientCreateOptions {\n  /**\n   * An identity to use as the base\n   */\n  identity?: SignIdentity | PartialIdentity;\n  /**\n   * Optional storage with get, set, and remove. Uses {@link IdbStorage} by default\n   */\n  storage?: AuthClientStorage;\n  /**\n   * type to use for the base key\n   * @default 'ECDSA'\n   * If you are using a custom storage provider that does not support CryptoKey storage,\n   * you should use 'Ed25519' as the key type, as it can serialize to a string\n   */\n  keyType?: BaseKeyType;\n\n  /**\n   * Options to handle idle timeouts\n   * @default after 30 minutes, invalidates the identity\n   */\n  idleOptions?: IdleOptions;\n}\n\nexport interface IdleOptions extends IdleManagerOptions {\n  /**\n   * Disables idle functionality for {@link IdleManager}\n   * @default false\n   */\n  disableIdle?: boolean;\n\n  /**\n   * Disables default idle behavior - call logout & reload window\n   * @default false\n   */\n  disableDefaultIdleCallback?: boolean;\n}\n\nexport * from './idleManager';\n\nexport type OnSuccessFunc =\n  | (() => void | Promise<void>)\n  | ((message: InternetIdentityAuthResponseSuccess) => void | Promise<void>);\n\nexport type OnErrorFunc = (error?: string) => void | Promise<void>;\n\nexport interface AuthClientLoginOptions {\n  /**\n   * Identity provider\n   * @default \"https://identity.ic0.app\"\n   */\n  identityProvider?: string | URL;\n  /**\n   * Expiration of the authentication in nanoseconds\n   * @default  BigInt(8) hours * BigInt(3_600_000_000_000) nanoseconds\n   */\n  maxTimeToLive?: bigint;\n  /**\n   * If present, indicates whether or not the Identity Provider should allow the user to authenticate and/or register using a temporary key/PIN identity. Authenticating dapps may want to prevent users from using Temporary keys/PIN identities because Temporary keys/PIN identities are less secure than Passkeys (webauthn credentials) and because Temporary keys/PIN identities generally only live in a browser database (which may get cleared by the browser/OS).\n   */\n  allowPinAuthentication?: boolean;\n  /**\n   * Origin for Identity Provider to use while generating the delegated identity. For II, the derivation origin must authorize this origin by setting a record at `<derivation-origin>/.well-known/ii-alternative-origins`.\n   * @see https://github.com/dfinity/internet-identity/blob/main/docs/internet-identity-spec.adoc\n   */\n  derivationOrigin?: string | URL;\n  /**\n   * Auth Window feature config string\n   * @example \"toolbar=0,location=0,menubar=0,width=500,height=500,left=100,top=100\"\n   */\n  windowOpenerFeatures?: string;\n  /**\n   * Callback once login has completed\n   */\n  onSuccess?: OnSuccessFunc;\n  /**\n   * Callback in case authentication fails\n   */\n  onError?: OnErrorFunc;\n  /**\n   * Extra values to be passed in the login request during the authorize-ready phase\n   */\n  customValues?: Record<string, unknown>;\n}\n\ninterface InternetIdentityAuthRequest {\n  kind: 'authorize-client';\n  sessionPublicKey: Uint8Array;\n  maxTimeToLive?: bigint;\n  allowPinAuthentication?: boolean;\n  derivationOrigin?: string;\n}\n\nexport interface InternetIdentityAuthResponseSuccess {\n  kind: 'authorize-client-success';\n  delegations: {\n    delegation: {\n      pubkey: Uint8Array;\n      expiration: bigint;\n      targets?: Principal[];\n    };\n    signature: Uint8Array;\n  }[];\n  userPublicKey: Uint8Array;\n  authnMethod: 'passkey' | 'pin' | 'recovery';\n}\n\ninterface AuthReadyMessage {\n  kind: 'authorize-ready';\n}\n\ninterface AuthResponseSuccess {\n  kind: 'authorize-client-success';\n  delegations: {\n    delegation: {\n      pubkey: Uint8Array;\n      expiration: bigint;\n      targets?: Principal[];\n    };\n    signature: Uint8Array;\n  }[];\n  userPublicKey: Uint8Array;\n  authnMethod: 'passkey' | 'pin' | 'recovery';\n}\n\ninterface AuthResponseFailure {\n  kind: 'authorize-client-failure';\n  text: string;\n}\n\ntype IdentityServiceResponseMessage = AuthReadyMessage | AuthResponse;\ntype AuthResponse = AuthResponseSuccess | AuthResponseFailure;\n\n/**\n * Tool to manage authentication and identity\n * @see {@link AuthClient}\n */\nexport class AuthClient {\n  /**\n   * Create an AuthClient to manage authentication and identity\n   * @constructs\n   * @param {AuthClientCreateOptions} options - Options for creating an {@link AuthClient}\n   * @see {@link AuthClientCreateOptions}\n   * @param options.identity Optional Identity to use as the base\n   * @see {@link SignIdentity}\n   * @param options.storage Storage mechanism for delegration credentials\n   * @see {@link AuthClientStorage}\n   * @param options.keyType Type of key to use for the base key\n   * @param {IdleOptions} options.idleOptions Configures an {@link IdleManager}\n   * @see {@link IdleOptions}\n   * Default behavior is to clear stored identity and reload the page when a user goes idle, unless you set the disableDefaultIdleCallback flag or pass in a custom idle callback.\n   * @example\n   * const authClient = await AuthClient.create({\n   *   idleOptions: {\n   *     disableIdle: true\n   *   }\n   * })\n   */\n  public static async create(\n    options: {\n      /**\n       * An {@link SignIdentity} or {@link PartialIdentity} to authenticate via delegation.\n       */\n      identity?: SignIdentity | PartialIdentity;\n      /**\n       * {@link AuthClientStorage}\n       * @description Optional storage with get, set, and remove. Uses {@link IdbStorage} by default\n       */\n      storage?: AuthClientStorage;\n      /**\n       * type to use for the base key\n       * @default 'ECDSA'\n       * If you are using a custom storage provider that does not support CryptoKey storage,\n       * you should use 'Ed25519' as the key type, as it can serialize to a string\n       */\n      keyType?: BaseKeyType;\n      /**\n       * Options to handle idle timeouts\n       * @default after 10 minutes, invalidates the identity\n       */\n      idleOptions?: IdleOptions;\n    } = {},\n  ): Promise<AuthClient> {\n    const storage = options.storage ?? new IdbStorage();\n    const keyType = options.keyType ?? ECDSA_KEY_LABEL;\n\n    let key: null | SignIdentity | PartialIdentity = null;\n    if (options.identity) {\n      key = options.identity;\n    } else {\n      let maybeIdentityStorage = await storage.get(KEY_STORAGE_KEY);\n      if (!maybeIdentityStorage && isBrowser) {\n        // Attempt to migrate from localstorage\n        try {\n          const fallbackLocalStorage = new LocalStorage();\n          const localChain = await fallbackLocalStorage.get(KEY_STORAGE_DELEGATION);\n          const localKey = await fallbackLocalStorage.get(KEY_STORAGE_KEY);\n          // not relevant for Ed25519\n          if (localChain && localKey && keyType === ECDSA_KEY_LABEL) {\n            console.log('Discovered an identity stored in localstorage. Migrating to IndexedDB');\n            await storage.set(KEY_STORAGE_DELEGATION, localChain);\n            await storage.set(KEY_STORAGE_KEY, localKey);\n\n            maybeIdentityStorage = localChain;\n            // clean up\n            await fallbackLocalStorage.remove(KEY_STORAGE_DELEGATION);\n            await fallbackLocalStorage.remove(KEY_STORAGE_KEY);\n          }\n        } catch (error) {\n          console.error('error while attempting to recover localstorage: ' + error);\n        }\n      }\n      if (maybeIdentityStorage) {\n        try {\n          if (typeof maybeIdentityStorage === 'object') {\n            if (keyType === ED25519_KEY_LABEL && typeof maybeIdentityStorage === 'string') {\n              key = await Ed25519KeyIdentity.fromJSON(maybeIdentityStorage);\n            } else {\n              key = await ECDSAKeyIdentity.fromKeyPair(maybeIdentityStorage);\n            }\n          } else if (typeof maybeIdentityStorage === 'string') {\n            // This is a legacy identity, which is a serialized Ed25519KeyIdentity.\n            key = Ed25519KeyIdentity.fromJSON(maybeIdentityStorage);\n          }\n        } catch (e) {\n          // Ignore this, this means that the localStorage value isn't a valid Ed25519KeyIdentity or ECDSAKeyIdentity\n          // serialization.\n        }\n      }\n    }\n\n    let identity: SignIdentity | PartialIdentity = new AnonymousIdentity() as PartialIdentity;\n    let chain: null | DelegationChain = null;\n    if (key) {\n      try {\n        const chainStorage = await storage.get(KEY_STORAGE_DELEGATION);\n        if (typeof chainStorage === 'object' && chainStorage !== null) {\n          throw new Error(\n            'Delegation chain is incorrectly stored. A delegation chain should be stored as a string.',\n          );\n        }\n\n        if (options.identity) {\n          identity = options.identity;\n        } else if (chainStorage) {\n          chain = DelegationChain.fromJSON(chainStorage);\n\n          // Verify that the delegation isn't expired.\n          if (!isDelegationValid(chain)) {\n            await _deleteStorage(storage);\n            key = null;\n          } else {\n            // If the key is a public key, then we create a PartialDelegationIdentity.\n            if ('toDer' in key) {\n              identity = PartialDelegationIdentity.fromDelegation(key, chain);\n              // otherwise, we create a DelegationIdentity.\n            } else {\n              identity = DelegationIdentity.fromDelegation(key, chain);\n            }\n          }\n        }\n      } catch (e) {\n        console.error(e);\n        // If there was a problem loading the chain, delete the key.\n        await _deleteStorage(storage);\n        key = null;\n      }\n    }\n    let idleManager: IdleManager | undefined = undefined;\n    if (options.idleOptions?.disableIdle) {\n      idleManager = undefined;\n    }\n    // if there is a delegation chain or provided identity, setup idleManager\n    else if (chain || options.identity) {\n      idleManager = IdleManager.create(options.idleOptions);\n    }\n\n    if (!key) {\n      // Create a new key (whether or not one was in storage).\n      if (keyType === ED25519_KEY_LABEL) {\n        key = await Ed25519KeyIdentity.generate();\n        await storage.set(KEY_STORAGE_KEY, JSON.stringify((key as Ed25519KeyIdentity).toJSON()));\n      } else {\n        if (options.storage && keyType === ECDSA_KEY_LABEL) {\n          console.warn(\n            `You are using a custom storage provider that may not support CryptoKey storage. If you are using a custom storage provider that does not support CryptoKey storage, you should use '${ED25519_KEY_LABEL}' as the key type, as it can serialize to a string`,\n          );\n        }\n        key = await ECDSAKeyIdentity.generate();\n        await storage.set(KEY_STORAGE_KEY, (key as ECDSAKeyIdentity).getKeyPair());\n      }\n    }\n\n    return new this(identity, key, chain, storage, idleManager, options);\n  }\n\n  protected constructor(\n    private _identity: Identity | PartialIdentity,\n    private _key: SignIdentity | PartialIdentity,\n    private _chain: DelegationChain | null,\n    private _storage: AuthClientStorage,\n    public idleManager: IdleManager | undefined,\n    private _createOptions: AuthClientCreateOptions | undefined,\n    // A handle on the IdP window.\n    private _idpWindow?: Window,\n    // The event handler for processing events from the IdP.\n    private _eventHandler?: (event: MessageEvent) => void,\n  ) {\n    this._registerDefaultIdleCallback();\n  }\n\n  private _registerDefaultIdleCallback() {\n    const idleOptions = this._createOptions?.idleOptions;\n    /**\n     * Default behavior is to clear stored identity and reload the page.\n     * By either setting the disableDefaultIdleCallback flag or passing in a custom idle callback, we will ignore this config\n     */\n    if (!idleOptions?.onIdle && !idleOptions?.disableDefaultIdleCallback) {\n      this.idleManager?.registerCallback(() => {\n        this.logout();\n        location.reload();\n      });\n    }\n  }\n\n  private async _handleSuccess(\n    message: InternetIdentityAuthResponseSuccess,\n    onSuccess?: OnSuccessFunc,\n  ) {\n    const delegations = message.delegations.map(signedDelegation => {\n      return {\n        delegation: new Delegation(\n          signedDelegation.delegation.pubkey,\n          signedDelegation.delegation.expiration,\n          signedDelegation.delegation.targets,\n        ),\n        signature: signedDelegation.signature.buffer as Signature,\n      };\n    });\n\n    const delegationChain = DelegationChain.fromDelegations(\n      delegations,\n      message.userPublicKey.buffer as DerEncodedPublicKey,\n    );\n\n    const key = this._key;\n    if (!key) {\n      return;\n    }\n\n    this._chain = delegationChain;\n\n    if ('toDer' in key) {\n      this._identity = PartialDelegationIdentity.fromDelegation(key, this._chain);\n    } else {\n      this._identity = DelegationIdentity.fromDelegation(key, this._chain);\n    }\n\n    this._idpWindow?.close();\n    const idleOptions = this._createOptions?.idleOptions;\n    // create the idle manager on a successful login if we haven't disabled it\n    // and it doesn't already exist.\n    if (!this.idleManager && !idleOptions?.disableIdle) {\n      this.idleManager = IdleManager.create(idleOptions);\n      this._registerDefaultIdleCallback();\n    }\n\n    this._removeEventListener();\n    delete this._idpWindow;\n\n    if (this._chain) {\n      await this._storage.set(KEY_STORAGE_DELEGATION, JSON.stringify(this._chain.toJSON()));\n    }\n\n    // onSuccess should be the last thing to do to avoid consumers\n    // interfering by navigating or refreshing the page\n    onSuccess?.(message);\n  }\n\n  public getIdentity(): Identity {\n    return this._identity;\n  }\n\n  public async isAuthenticated(): Promise<boolean> {\n    return !this.getIdentity().getPrincipal().isAnonymous() && this._chain !== null;\n  }\n\n  /**\n   * AuthClient Login -\n   * Opens up a new window to authenticate with Internet Identity\n   * @param {AuthClientLoginOptions} options - Options for logging in\n   * @param options.identityProvider Identity provider\n   * @param options.maxTimeToLive Expiration of the authentication in nanoseconds\n   * @param options.allowPinAuthentication If present, indicates whether or not the Identity Provider should allow the user to authenticate and/or register using a temporary key/PIN identity. Authenticating dapps may want to prevent users from using Temporary keys/PIN identities because Temporary keys/PIN identities are less secure than Passkeys (webauthn credentials) and because Temporary keys/PIN identities generally only live in a browser database (which may get cleared by the browser/OS).\n   * @param options.derivationOrigin Origin for Identity Provider to use while generating the delegated identity\n   * @param options.windowOpenerFeatures Configures the opened authentication window\n   * @param options.onSuccess Callback once login has completed\n   * @param options.onError Callback in case authentication fails\n   * @example\n   * const authClient = await AuthClient.create();\n   * authClient.login({\n   *  identityProvider: 'http://<canisterID>.127.0.0.1:8000',\n   *  maxTimeToLive: BigInt (7) * BigInt(24) * BigInt(3_600_000_000_000), // 1 week\n   *  windowOpenerFeatures: \"toolbar=0,location=0,menubar=0,width=500,height=500,left=100,top=100\",\n   *  onSuccess: () => {\n   *    console.log('Login Successful!');\n   *  },\n   *  onError: (error) => {\n   *    console.error('Login Failed: ', error);\n   *  }\n   * });\n   */\n  public async login(options?: AuthClientLoginOptions): Promise<void> {\n    // Set default maxTimeToLive to 8 hours\n    const defaultTimeToLive = /* hours */ BigInt(8) * /* nanoseconds */ BigInt(3_600_000_000_000);\n\n    // Create the URL of the IDP. (e.g. https://XXXX/#authorize)\n    const identityProviderUrl = new URL(\n      options?.identityProvider?.toString() || IDENTITY_PROVIDER_DEFAULT,\n    );\n    // Set the correct hash if it isn't already set.\n    identityProviderUrl.hash = IDENTITY_PROVIDER_ENDPOINT;\n\n    // If `login` has been called previously, then close/remove any previous windows\n    // and event listeners.\n    this._idpWindow?.close();\n    this._removeEventListener();\n\n    // Add an event listener to handle responses.\n    this._eventHandler = this._getEventHandler(identityProviderUrl, {\n      maxTimeToLive: options?.maxTimeToLive ?? defaultTimeToLive,\n      ...options,\n    });\n    window.addEventListener('message', this._eventHandler);\n\n    // Open a new window with the IDP provider.\n    this._idpWindow =\n      window.open(identityProviderUrl.toString(), 'idpWindow', options?.windowOpenerFeatures) ??\n      undefined;\n\n    // Check if the _idpWindow is closed by user.\n    const checkInterruption = (): void => {\n      // The _idpWindow is opened and not yet closed by the client\n      if (this._idpWindow) {\n        if (this._idpWindow.closed) {\n          this._handleFailure(ERROR_USER_INTERRUPT, options?.onError);\n        } else {\n          setTimeout(checkInterruption, INTERRUPT_CHECK_INTERVAL);\n        }\n      }\n    };\n    checkInterruption();\n  }\n\n  private _getEventHandler(identityProviderUrl: URL, options?: AuthClientLoginOptions) {\n    return async (event: MessageEvent) => {\n      if (event.origin !== identityProviderUrl.origin) {\n        console.warn(\n          `WARNING: expected origin '${identityProviderUrl.origin}', got '${event.origin}' (ignoring)`,\n        );\n        return;\n      }\n\n      const message = event.data as IdentityServiceResponseMessage;\n\n      switch (message.kind) {\n        case 'authorize-ready': {\n          // IDP is ready. Send a message to request authorization.\n          const request: InternetIdentityAuthRequest = {\n            kind: 'authorize-client',\n            sessionPublicKey: new Uint8Array(this._key?.getPublicKey().toDer() as ArrayBuffer),\n            maxTimeToLive: options?.maxTimeToLive,\n            allowPinAuthentication: options?.allowPinAuthentication,\n            derivationOrigin: options?.derivationOrigin?.toString(),\n            // Pass any custom values to the IDP.\n            ...options?.customValues,\n          };\n          this._idpWindow?.postMessage(request, identityProviderUrl.origin);\n          break;\n        }\n        case 'authorize-client-success':\n          // Create the delegation chain and store it.\n          try {\n            await this._handleSuccess(message, options?.onSuccess);\n          } catch (err) {\n            this._handleFailure((err as Error).message, options?.onError);\n          }\n          break;\n        case 'authorize-client-failure':\n          this._handleFailure(message.text, options?.onError);\n          break;\n        default:\n          break;\n      }\n    };\n  }\n\n  private _handleFailure(errorMessage?: string, onError?: (error?: string) => void): void {\n    this._idpWindow?.close();\n    onError?.(errorMessage);\n    this._removeEventListener();\n    delete this._idpWindow;\n  }\n\n  private _removeEventListener() {\n    if (this._eventHandler) {\n      window.removeEventListener('message', this._eventHandler);\n    }\n    this._eventHandler = undefined;\n  }\n\n  public async logout(options: { returnTo?: string } = {}): Promise<void> {\n    await _deleteStorage(this._storage);\n\n    // Reset this auth client to a non-authenticated state.\n    this._identity = new AnonymousIdentity();\n    this._chain = null;\n\n    if (options.returnTo) {\n      try {\n        window.history.pushState({}, '', options.returnTo);\n      } catch (e) {\n        window.location.href = options.returnTo;\n      }\n    }\n  }\n}\n\nasync function _deleteStorage(storage: AuthClientStorage) {\n  await storage.remove(KEY_STORAGE_KEY);\n  await storage.remove(KEY_STORAGE_DELEGATION);\n  await storage.remove(KEY_VECTOR);\n}\n", "\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AgentManager = void 0;\n/* eslint-disable no-console */\nconst agent_1 = require(\"@dfinity/agent\");\nconst helper_1 = require(\"../../utils/helper\");\nconst auth_client_1 = require(\"@dfinity/auth-client\");\nconst constants_1 = require(\"../../utils/constants\");\nclass AgentManager {\n    constructor(options) {\n        var _a;\n        this._auth = null;\n        this._subscribers = [];\n        this.initialAgentState = {\n            initialized: false,\n            initializing: false,\n            error: undefined,\n            network: \"ic\",\n        };\n        this.initialAuthState = {\n            identity: null,\n            authenticating: false,\n            authenticated: false,\n            error: undefined,\n        };\n        this.updateAgentState = (newState, action) => {\n            this.agentStore.setState((state) => (Object.assign(Object.assign({}, state), newState)), false, action);\n        };\n        this.updateAuthState = (newState, action) => {\n            this.authStore.setState((state) => (Object.assign(Object.assign({}, state), newState)), false, action);\n        };\n        this.initializeAgent = () => __awaiter(this, void 0, void 0, function* () {\n            const network = this.getNetwork();\n            this.updateAgentState({\n                initializing: true,\n                error: undefined,\n                network,\n            }, \"initializing\");\n            if (network !== \"ic\") {\n                try {\n                    yield this._agent.fetchRootKey();\n                }\n                catch (error) {\n                    this.updateAgentState({ error: error, initializing: false }, \"error\");\n                }\n            }\n            this.updateAgentState({ initialized: true, initializing: false }, \"initialized\");\n        });\n        this.subscribeAgent = (callback, initialize = true) => {\n            if (initialize) {\n                callback(this._agent);\n            }\n            this._subscribers.push(callback);\n            return () => this.unsubscribeAgent(callback);\n        };\n        this.unsubscribeAgent = (callback) => {\n            this._subscribers = this._subscribers.filter((sub) => sub !== callback);\n        };\n        this.notifySubscribers = () => __awaiter(this, void 0, void 0, function* () {\n            yield Promise.all(this._subscribers.map((callback) => __awaiter(this, void 0, void 0, function* () { return callback(this._agent); })));\n        });\n        this.updateAgent = (options) => __awaiter(this, void 0, void 0, function* () {\n            const { agent } = options || {};\n            if (agent) {\n                this._agent = agent;\n            }\n            else if (options) {\n                this._agent = new agent_1.HttpAgent(options);\n                yield this.initializeAgent();\n            }\n            yield this.notifySubscribers();\n        });\n        this.authenticate = () => __awaiter(this, void 0, void 0, function* () {\n            console.log(`Authenticating on ${this.getNetwork()} network`);\n            this.updateAuthState({ authenticating: true }, \"authenticating\");\n            try {\n                this._auth = yield auth_client_1.AuthClient.create();\n                const authenticated = yield this._auth.isAuthenticated();\n                const identity = this._auth.getIdentity();\n                this._agent.replaceIdentity(identity);\n                this.notifySubscribers();\n                this.updateAuthState({\n                    authenticated,\n                    identity,\n                    authenticating: false,\n                }, \"authenticated\");\n                return identity;\n            }\n            catch (error) {\n                this.updateAuthState({ error: error, authenticating: false }, \"error\");\n                throw error;\n            }\n        });\n        this.login = (options) => __awaiter(this, void 0, void 0, function* () {\n            this.updateAuthState({ authenticating: true }, \"login\");\n            if (!this._auth) {\n                yield this.authenticate();\n            }\n            if (!this._auth) {\n                throw new Error(\"Auth client not initialized\");\n            }\n            yield this._auth.login(Object.assign(Object.assign({ identityProvider: this.getIsLocal()\n                    ? constants_1.LOCAL_INTERNET_IDENTITY_PROVIDER\n                    : constants_1.IC_INTERNET_IDENTITY_PROVIDER }, options), { onSuccess: (msg) => __awaiter(this, void 0, void 0, function* () {\n                    var _c;\n                    yield this.authenticate();\n                    (_c = options === null || options === void 0 ? void 0 : options.onSuccess) === null || _c === void 0 ? void 0 : _c.call(options, msg);\n                }) }));\n        });\n        this.logout = (options) => __awaiter(this, void 0, void 0, function* () {\n            if (!this._auth) {\n                throw new Error(\"Auth client not initialized\");\n            }\n            yield this._auth.logout(options);\n            yield this.authenticate();\n        });\n        // agent store\n        this.getAgent = () => {\n            return this._agent;\n        };\n        this.getAgentHost = () => {\n            return this._agent._host;\n        };\n        this.getIsLocal = () => {\n            return this.getNetwork() !== \"ic\";\n        };\n        this.getNetwork = () => {\n            const hostname = this.getAgentHost().hostname;\n            if (constants_1.LOCAL_HOSTS.some((host) => hostname.endsWith(host))) {\n                return \"local\";\n            }\n            else if (constants_1.REMOTE_HOSTS.some((host) => hostname.endsWith(host))) {\n                return \"remote\";\n            }\n            else {\n                return \"ic\";\n            }\n        };\n        this.getAgentState = () => {\n            return this.agentStore.getState();\n        };\n        this.subscribeAgentState = (listener) => {\n            return this.agentStore.subscribe(listener);\n        };\n        // auth store\n        this.getAuthState = () => {\n            return this.authStore.getState();\n        };\n        this.subscribeAuthState = (listener) => {\n            return this.authStore.subscribe(listener);\n        };\n        this.getAuth = () => {\n            return this._auth;\n        };\n        this.getIdentity = () => {\n            return this.authStore.getState().identity;\n        };\n        this.getPrincipal = () => {\n            const identity = this.authStore.getState().identity;\n            return identity ? identity.getPrincipal() : null;\n        };\n        const _b = options || {}, { withDevtools, port = 4943, withLocalEnv, withProcessEnv } = _b, agentOptions = __rest(_b, [\"withDevtools\", \"port\", \"withLocalEnv\", \"withProcessEnv\"]);\n        if (withProcessEnv) {\n            const processNetwork = (0, helper_1.getProcessEnvNetwork)();\n            agentOptions.host =\n                processNetwork === \"ic\" ? constants_1.IC_HOST_NETWORK_URI : undefined;\n        }\n        else if (withLocalEnv) {\n            agentOptions.host = `http://127.0.0.1:${port}`;\n        }\n        else {\n            agentOptions.host = (_a = agentOptions.host) !== null && _a !== void 0 ? _a : constants_1.IC_HOST_NETWORK_URI;\n        }\n        this.agentStore = (0, helper_1.createStoreWithOptionalDevtools)(this.initialAgentState, {\n            withDevtools,\n            name: \"reactor-agent\",\n            store: \"agent\",\n        });\n        this.authStore = (0, helper_1.createStoreWithOptionalDevtools)(this.initialAuthState, {\n            withDevtools,\n            name: \"reactor-agent\",\n            store: \"auth\",\n        });\n        this._agent = new agent_1.HttpAgent(agentOptions);\n        this.initializeAgent();\n    }\n}\nexports.AgentManager = AgentManager;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createAgentManager = void 0;\nconst agent_1 = require(\"./classes/agent\");\n/**\n * Agent manager handles the lifecycle of the `@dfinity/agent`.\n * It is responsible for creating agent and managing the agent's state.\n * You can use it to subscribe to the agent changes.\n * login and logout to the internet identity.\n *\n * @category Main\n * @includeExample ./packages/core/README.md:232-260\n */\nconst createAgentManager = (config) => {\n    return new agent_1.AgentManager(config);\n};\nexports.createAgentManager = createAgentManager;\n", "\"use strict\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createReactorStore = void 0;\nconst createActorManager_1 = require(\"./createActorManager\");\nconst createAgentManager_1 = require(\"./createAgentManager\");\n/**\n * Create a new actor manager with the given options.\n * Its create a new agent manager if not provided.\n * It also creates a new actor manager with the given options.\n *\n * @category Main\n * @includeExample ./packages/core/README.md:200-225\n */\nconst createReactorStore = (config) => {\n    const { idlFactory, canisterId, withDevtools = false, initializeOnCreate = true, withVisitor = false, agentManager: maybeAgentManager } = config, agentParameters = __rest(config, [\"idlFactory\", \"canisterId\", \"withDevtools\", \"initializeOnCreate\", \"withVisitor\", \"agentManager\"]);\n    const agentManager = maybeAgentManager ||\n        (0, createAgentManager_1.createAgentManager)(Object.assign({ withDevtools }, agentParameters));\n    const actorManager = (0, createActorManager_1.createActorManager)({\n        idlFactory,\n        canisterId,\n        agentManager,\n        withVisitor,\n        withDevtools,\n        initializeOnCreate,\n    });\n    return actorManager;\n};\nexports.createReactorStore = createReactorStore;\n", "\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createReactorCore = void 0;\nconst createReactorStore_1 = require(\"./createReactorStore\");\nconst utils_1 = require(\"./utils\");\n/**\n * The Core module is the main entry point for the library.\n * Create a new actor manager with the given options.\n * Its create a new agent manager if not provided.\n *\n * @category Main\n * @includeExample ./packages/core/README.md:32-86\n */\nconst createReactorCore = (config) => {\n    const _a = (0, createReactorStore_1.createReactorStore)(config), { subscribeActorState, updateMethodState, callMethodWithOptions, callMethod, getState, agentManager } = _a, rest = __rest(_a, [\"subscribeActorState\", \"updateMethodState\", \"callMethodWithOptions\", \"callMethod\", \"getState\", \"agentManager\"]);\n    const actorMethod = (functionName, args, options = {}) => {\n        const requestHash = (0, utils_1.generateRequestHash)(args);\n        const updateState = (newState = {}) => {\n            updateMethodState(functionName, requestHash, newState);\n        };\n        updateState();\n        try {\n            const methodState = ((key) => {\n                const state = getState().methodState[functionName][requestHash];\n                switch (key) {\n                    case \"data\":\n                        return state.data;\n                    case \"loading\":\n                        return state.loading;\n                    case \"error\":\n                        return state.error;\n                    default:\n                        return state;\n                }\n            });\n            const subscribe = (callback) => {\n                callback(methodState());\n                const unsubscribe = subscribeActorState((state) => {\n                    const methodState = state.methodState[functionName];\n                    const methodStateHash = methodState[requestHash];\n                    if (methodStateHash) {\n                        callback(methodStateHash);\n                    }\n                });\n                return unsubscribe;\n            };\n            const call = (replaceArgs) => __awaiter(void 0, void 0, void 0, function* () {\n                updateState({\n                    loading: true,\n                    error: undefined,\n                });\n                try {\n                    const data = yield callMethodWithOptions(options)(functionName, ...(replaceArgs !== null && replaceArgs !== void 0 ? replaceArgs : args));\n                    updateState({ data, loading: false });\n                    return data;\n                }\n                catch (error) {\n                    updateState({\n                        error: error,\n                        loading: false,\n                    });\n                    throw error;\n                }\n            });\n            return {\n                requestHash,\n                subscribe,\n                getState: methodState,\n                call,\n            };\n        }\n        catch (error) {\n            updateState({\n                error: error,\n                loading: false,\n            });\n            throw error;\n        }\n    };\n    const queryCall = (_a) => {\n        var { functionName, args = [], refetchOnMount = true, refetchInterval = false } = _a, options = __rest(_a, [\"functionName\", \"args\", \"refetchOnMount\", \"refetchInterval\"]);\n        let intervalId = null;\n        const _b = actorMethod(functionName, args, options), { call } = _b, rest = __rest(_b, [\"call\"]);\n        if (refetchInterval) {\n            intervalId = setInterval(() => {\n                call();\n            }, refetchInterval);\n        }\n        const clearRefetchInterval = () => {\n            if (intervalId) {\n                clearInterval(intervalId);\n            }\n        };\n        let dataPromise = Promise.resolve();\n        if (refetchOnMount)\n            dataPromise = call();\n        return Object.assign(Object.assign({}, rest), { call, dataPromise, intervalId, clearRefetchInterval });\n    };\n    const updateCall = (_a) => {\n        var { functionName, args = [] } = _a, options = __rest(_a, [\"functionName\", \"args\"]);\n        return actorMethod(functionName, args, options);\n    };\n    return Object.assign(Object.assign({ getState,\n        queryCall,\n        updateCall,\n        callMethod,\n        callMethodWithOptions,\n        subscribeActorState }, agentManager), rest);\n};\nexports.createReactorCore = createReactorCore;\n", "\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CandidAdapter = void 0;\nconst agent_1 = require(\"@dfinity/agent\");\nconst constants_1 = require(\"../../utils/constants\");\nconst utils_1 = require(\"../../utils\");\nclass CandidAdapter {\n    constructor({ agentManager, agent, didjsCanisterId, }) {\n        this.unsubscribeAgent = () => { };\n        if (agent) {\n            this.agent = agent;\n        }\n        else if (agentManager) {\n            this.agent = agentManager.getAgent();\n            this.unsubscribeAgent = agentManager.subscribeAgent((agent) => {\n                this.agent = agent;\n                this.didjsCanisterId = didjsCanisterId || this.getDefaultDidJsId();\n            });\n        }\n        else {\n            throw new Error(\"No agent or agentManager provided\");\n        }\n        this.didjsCanisterId = didjsCanisterId || this.getDefaultDidJsId();\n    }\n    initializeParser(module) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (module !== undefined) {\n                this.parserModule = module;\n                return;\n            }\n            try {\n                this.parserModule = require(\"@ic-reactor/parser\");\n                if (typeof this.parserModule !== \"undefined\" &&\n                    \"default\" in this.parserModule) {\n                    yield this.parserModule.default();\n                }\n            }\n            catch (error) {\n                throw new Error(`Error initializing parser: ${error}`);\n            }\n        });\n    }\n    getDefaultDidJsId() {\n        var _a, _b;\n        return ((_b = (_a = this.agent).isLocal) === null || _b === void 0 ? void 0 : _b.call(_a)) === true\n            ? constants_1.DEFAULT_LOCAL_DIDJS_ID\n            : constants_1.DEFAULT_IC_DIDJS_ID;\n    }\n    fetchCandidDefinition(canisterId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let candidDef = \"\";\n            // First attempt: Try getting Candid definition from metadata\n            try {\n                candidDef = yield this.getFromMetadata(canisterId);\n                if (!candidDef) {\n                    throw new Error(\"Cannot retrieve Candid definition from metadata\");\n                }\n            }\n            catch (error) {\n                // Second attempt: Try the temporary hack method\n                candidDef = yield this.getFromTmpHack(canisterId).catch(() => {\n                    return undefined;\n                });\n            }\n            if (!candidDef) {\n                throw new Error(\"Failed to retrieve Candid definition by any method.\");\n            }\n            return candidDef;\n        });\n    }\n    getCandidDefinition(canisterId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const candidDef = yield this.fetchCandidDefinition(canisterId);\n                return this.dynamicEvalJs(candidDef);\n            }\n            catch (error) {\n                throw new Error(`Error fetching canister ${canisterId}: ${error}`);\n            }\n        });\n    }\n    getFromMetadata(canisterId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const status = yield agent_1.CanisterStatus.request({\n                agent: this.agent,\n                canisterId: canisterId,\n                paths: [\"candid\"],\n            });\n            return status.get(\"candid\");\n        });\n    }\n    getFromTmpHack(canisterId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const commonInterface = ({ IDL }) => IDL.Service({\n                __get_candid_interface_tmp_hack: IDL.Func([], [IDL.Text], [\"query\"]),\n            });\n            const actor = agent_1.Actor.createActor(commonInterface, {\n                agent: this.agent,\n                canisterId,\n            });\n            return (yield actor.__get_candid_interface_tmp_hack());\n        });\n    }\n    dynamicEvalJs(data) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                let candidDef = \"\";\n                try {\n                    candidDef = this.parseDidToJs(data);\n                    if (candidDef === \"\") {\n                        throw new Error(\"Cannot compile Candid to JavaScript\");\n                    }\n                }\n                catch (error) {\n                    candidDef = (yield this.fetchDidTojs(data))[0];\n                }\n                if (JSON.stringify(candidDef) === JSON.stringify([])) {\n                    throw new Error(\"Cannot compile Candid to JavaScript\");\n                }\n                return yield (0, utils_1.importCandidDefinition)(candidDef);\n            }\n            catch (error) {\n                throw new Error(`Error evaluating Candid definition: ${error}`);\n            }\n        });\n    }\n    fetchDidTojs(candidSource, didjsCanisterId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const didjsInterface = ({ IDL }) => IDL.Service({\n                did_to_js: IDL.Func([IDL.Text], [IDL.Opt(IDL.Text)], [\"query\"]),\n            });\n            const didjs = agent_1.Actor.createActor(didjsInterface, {\n                agent: this.agent,\n                canisterId: didjsCanisterId || this.didjsCanisterId,\n            });\n            return didjs.did_to_js(candidSource);\n        });\n    }\n    parseDidToJs(candidSource) {\n        if (!this.parserModule) {\n            throw new Error(\"Parser module not available\");\n        }\n        return this.parserModule.didToJs(candidSource);\n    }\n}\nexports.CandidAdapter = CandidAdapter;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createCandidAdapter = void 0;\nconst adapter_1 = require(\"./classes/adapter\");\n/**\n * The `CandidAdapter` class is used to interact with a canister and retrieve its Candid interface definition.\n * It provides methods to fetch the Candid definition either from the canister's metadata or by using a temporary hack method.\n * If both methods fail, it throws an error.\n *\n * @category Main\n * @includeExample ./packages/core/README.md:151-192\n */\nconst createCandidAdapter = (config) => {\n    return new adapter_1.CandidAdapter(config);\n};\nexports.createCandidAdapter = createCandidAdapter;\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./actor\"), exports);\n__exportStar(require(\"./agent\"), exports);\n__exportStar(require(\"./adapter\"), exports);\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./agent/types\"), exports);\n__exportStar(require(\"./actor/types\"), exports);\n__exportStar(require(\"./adapter/types\"), exports);\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./classes/types\"), exports);\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.utils = exports.types = exports.classes = void 0;\n__exportStar(require(\"./createReactorCore\"), exports);\n__exportStar(require(\"./createReactorStore\"), exports);\n__exportStar(require(\"./createCandidAdapter\"), exports);\n__exportStar(require(\"./createActorManager\"), exports);\n__exportStar(require(\"./createAgentManager\"), exports);\nexports.classes = __importStar(require(\"./classes\"));\nexports.types = __importStar(require(\"./types\"));\nexports.utils = __importStar(require(\"./utils\"));\n", "const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected.\"\n      );\n    }\n    listeners.clear();\n  };\n  const api = { setState, getState, getInitialState, subscribe, destroy };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\nvar vanilla = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'.\"\n    );\n  }\n  return createStore(createState);\n};\n\nexport { createStore, vanilla as default };\n", "/**\n * @license React\n * use-sync-external-store-shim.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n\n          'use strict';\n\n/* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\nif (\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart ===\n    'function'\n) {\n  __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error());\n}\n          var React = require('react');\n\nvar ReactSharedInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nfunction error(format) {\n  {\n    {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      printWarning('error', format, args);\n    }\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    } // eslint-disable-next-line react-internal/safe-string-coercion\n\n\n    var argsWithFormat = args.map(function (item) {\n      return String(item);\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x, y) {\n  return x === y && (x !== 0 || 1 / x === 1 / y) || x !== x && y !== y // eslint-disable-line no-self-compare\n  ;\n}\n\nvar objectIs = typeof Object.is === 'function' ? Object.is : is;\n\n// dispatch for CommonJS interop named imports.\n\nvar useState = React.useState,\n    useEffect = React.useEffect,\n    useLayoutEffect = React.useLayoutEffect,\n    useDebugValue = React.useDebugValue;\nvar didWarnOld18Alpha = false;\nvar didWarnUncachedGetSnapshot = false; // Disclaimer: This shim breaks many of the rules of React, and only works\n// because of a very particular set of implementation details and assumptions\n// -- change any one of them and it will break. The most important assumption\n// is that updates are always synchronous, because concurrent rendering is\n// only available in versions of React that also have a built-in\n// useSyncExternalStore API. And we only use this shim when the built-in API\n// does not exist.\n//\n// Do not assume that the clever hacks used by this hook also work in general.\n// The point of this shim is to replace the need for hacks by other libraries.\n\nfunction useSyncExternalStore(subscribe, getSnapshot, // Note: The shim does not use getServerSnapshot, because pre-18 versions of\n// React do not expose a way to check if we're hydrating. So users of the shim\n// will need to track that themselves and return the correct value\n// from `getSnapshot`.\ngetServerSnapshot) {\n  {\n    if (!didWarnOld18Alpha) {\n      if (React.startTransition !== undefined) {\n        didWarnOld18Alpha = true;\n\n        error('You are using an outdated, pre-release alpha of React 18 that ' + 'does not support useSyncExternalStore. The ' + 'use-sync-external-store shim will not work correctly. Upgrade ' + 'to a newer pre-release.');\n      }\n    }\n  } // Read the current snapshot from the store on every render. Again, this\n  // breaks the rules of React, and only works here because of specific\n  // implementation details, most importantly that updates are\n  // always synchronous.\n\n\n  var value = getSnapshot();\n\n  {\n    if (!didWarnUncachedGetSnapshot) {\n      var cachedValue = getSnapshot();\n\n      if (!objectIs(value, cachedValue)) {\n        error('The result of getSnapshot should be cached to avoid an infinite loop');\n\n        didWarnUncachedGetSnapshot = true;\n      }\n    }\n  } // Because updates are synchronous, we don't queue them. Instead we force a\n  // re-render whenever the subscribed state changes by updating an some\n  // arbitrary useState hook. Then, during render, we call getSnapshot to read\n  // the current value.\n  //\n  // Because we don't actually use the state returned by the useState hook, we\n  // can save a bit of memory by storing other stuff in that slot.\n  //\n  // To implement the early bailout, we need to track some things on a mutable\n  // object. Usually, we would put that in a useRef hook, but we can stash it in\n  // our useState hook instead.\n  //\n  // To force a re-render, we call forceUpdate({inst}). That works because the\n  // new object always fails an equality check.\n\n\n  var _useState = useState({\n    inst: {\n      value: value,\n      getSnapshot: getSnapshot\n    }\n  }),\n      inst = _useState[0].inst,\n      forceUpdate = _useState[1]; // Track the latest getSnapshot function with a ref. This needs to be updated\n  // in the layout phase so we can access it during the tearing check that\n  // happens on subscribe.\n\n\n  useLayoutEffect(function () {\n    inst.value = value;\n    inst.getSnapshot = getSnapshot; // Whenever getSnapshot or subscribe changes, we need to check in the\n    // commit phase if there was an interleaved mutation. In concurrent mode\n    // this can happen all the time, but even in synchronous mode, an earlier\n    // effect may have mutated the store.\n\n    if (checkIfSnapshotChanged(inst)) {\n      // Force a re-render.\n      forceUpdate({\n        inst: inst\n      });\n    }\n  }, [subscribe, value, getSnapshot]);\n  useEffect(function () {\n    // Check for changes right before subscribing. Subsequent changes will be\n    // detected in the subscription handler.\n    if (checkIfSnapshotChanged(inst)) {\n      // Force a re-render.\n      forceUpdate({\n        inst: inst\n      });\n    }\n\n    var handleStoreChange = function () {\n      // TODO: Because there is no cross-renderer API for batching updates, it's\n      // up to the consumer of this library to wrap their subscription event\n      // with unstable_batchedUpdates. Should we try to detect when this isn't\n      // the case and print a warning in development?\n      // The store changed. Check if the snapshot changed since the last time we\n      // read from the store.\n      if (checkIfSnapshotChanged(inst)) {\n        // Force a re-render.\n        forceUpdate({\n          inst: inst\n        });\n      }\n    }; // Subscribe to the store and return a clean-up function.\n\n\n    return subscribe(handleStoreChange);\n  }, [subscribe]);\n  useDebugValue(value);\n  return value;\n}\n\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  var prevValue = inst.value;\n\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(prevValue, nextValue);\n  } catch (error) {\n    return true;\n  }\n}\n\nfunction useSyncExternalStore$1(subscribe, getSnapshot, getServerSnapshot) {\n  // Note: The shim does not use getServerSnapshot, because pre-18 versions of\n  // React do not expose a way to check if we're hydrating. So users of the shim\n  // will need to track that themselves and return the correct value\n  // from `getSnapshot`.\n  return getSnapshot();\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined');\n\nvar isServerEnvironment = !canUseDOM;\n\nvar shim = isServerEnvironment ? useSyncExternalStore$1 : useSyncExternalStore;\nvar useSyncExternalStore$2 = React.useSyncExternalStore !== undefined ? React.useSyncExternalStore : shim;\n\nexports.useSyncExternalStore = useSyncExternalStore$2;\n          /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\nif (\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop ===\n    'function'\n) {\n  __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error());\n}\n        \n  })();\n}\n", "'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n", "/**\n * @license React\n * use-sync-external-store-shim/with-selector.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n\n          'use strict';\n\n/* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\nif (\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart ===\n    'function'\n) {\n  __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error());\n}\n          var React = require('react');\nvar shim = require('use-sync-external-store/shim');\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x, y) {\n  return x === y && (x !== 0 || 1 / x === 1 / y) || x !== x && y !== y // eslint-disable-line no-self-compare\n  ;\n}\n\nvar objectIs = typeof Object.is === 'function' ? Object.is : is;\n\nvar useSyncExternalStore = shim.useSyncExternalStore;\n\n// for CommonJS interop.\n\nvar useRef = React.useRef,\n    useEffect = React.useEffect,\n    useMemo = React.useMemo,\n    useDebugValue = React.useDebugValue; // Same as useSyncExternalStore, but supports selector and isEqual arguments.\n\nfunction useSyncExternalStoreWithSelector(subscribe, getSnapshot, getServerSnapshot, selector, isEqual) {\n  // Use this to track the rendered snapshot.\n  var instRef = useRef(null);\n  var inst;\n\n  if (instRef.current === null) {\n    inst = {\n      hasValue: false,\n      value: null\n    };\n    instRef.current = inst;\n  } else {\n    inst = instRef.current;\n  }\n\n  var _useMemo = useMemo(function () {\n    // Track the memoized state using closure variables that are local to this\n    // memoized instance of a getSnapshot function. Intentionally not using a\n    // useRef hook, because that state would be shared across all concurrent\n    // copies of the hook/component.\n    var hasMemo = false;\n    var memoizedSnapshot;\n    var memoizedSelection;\n\n    var memoizedSelector = function (nextSnapshot) {\n      if (!hasMemo) {\n        // The first time the hook is called, there is no memoized result.\n        hasMemo = true;\n        memoizedSnapshot = nextSnapshot;\n\n        var _nextSelection = selector(nextSnapshot);\n\n        if (isEqual !== undefined) {\n          // Even if the selector has changed, the currently rendered selection\n          // may be equal to the new selection. We should attempt to reuse the\n          // current value if possible, to preserve downstream memoizations.\n          if (inst.hasValue) {\n            var currentSelection = inst.value;\n\n            if (isEqual(currentSelection, _nextSelection)) {\n              memoizedSelection = currentSelection;\n              return currentSelection;\n            }\n          }\n        }\n\n        memoizedSelection = _nextSelection;\n        return _nextSelection;\n      } // We may be able to reuse the previous invocation's result.\n\n\n      // We may be able to reuse the previous invocation's result.\n      var prevSnapshot = memoizedSnapshot;\n      var prevSelection = memoizedSelection;\n\n      if (objectIs(prevSnapshot, nextSnapshot)) {\n        // The snapshot is the same as last time. Reuse the previous selection.\n        return prevSelection;\n      } // The snapshot has changed, so we need to compute a new selection.\n\n\n      // The snapshot has changed, so we need to compute a new selection.\n      var nextSelection = selector(nextSnapshot); // If a custom isEqual function is provided, use that to check if the data\n      // has changed. If it hasn't, return the previous selection. That signals\n      // to React that the selections are conceptually equal, and we can bail\n      // out of rendering.\n\n      // If a custom isEqual function is provided, use that to check if the data\n      // has changed. If it hasn't, return the previous selection. That signals\n      // to React that the selections are conceptually equal, and we can bail\n      // out of rendering.\n      if (isEqual !== undefined && isEqual(prevSelection, nextSelection)) {\n        return prevSelection;\n      }\n\n      memoizedSnapshot = nextSnapshot;\n      memoizedSelection = nextSelection;\n      return nextSelection;\n    }; // Assigning this to a constant so that Flow knows it can't change.\n\n\n    // Assigning this to a constant so that Flow knows it can't change.\n    var maybeGetServerSnapshot = getServerSnapshot === undefined ? null : getServerSnapshot;\n\n    var getSnapshotWithSelector = function () {\n      return memoizedSelector(getSnapshot());\n    };\n\n    var getServerSnapshotWithSelector = maybeGetServerSnapshot === null ? undefined : function () {\n      return memoizedSelector(maybeGetServerSnapshot());\n    };\n    return [getSnapshotWithSelector, getServerSnapshotWithSelector];\n  }, [getSnapshot, getServerSnapshot, selector, isEqual]),\n      getSelection = _useMemo[0],\n      getServerSelection = _useMemo[1];\n\n  var value = useSyncExternalStore(subscribe, getSelection, getServerSelection);\n  useEffect(function () {\n    inst.hasValue = true;\n    inst.value = value;\n  }, [value]);\n  useDebugValue(value);\n  return value;\n}\n\nexports.useSyncExternalStoreWithSelector = useSyncExternalStoreWithSelector;\n          /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\nif (\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop ===\n    'function'\n) {\n  __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error());\n}\n        \n  })();\n}\n", "'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.development.js');\n}\n", "import { createStore } from 'zustand/vanilla';\nexport * from 'zustand/vanilla';\nimport ReactExports from 'react';\nimport useSyncExternalStoreExports from 'use-sync-external-store/shim/with-selector.js';\n\nconst { useDebugValue } = ReactExports;\nconst { useSyncExternalStoreWithSelector } = useSyncExternalStoreExports;\nlet didWarnAboutEqualityFn = false;\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity, equalityFn) {\n  if (process.env.NODE_ENV !== \"production\" && equalityFn && !didWarnAboutEqualityFn) {\n    console.warn(\n      \"[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937\"\n    );\n    didWarnAboutEqualityFn = true;\n  }\n  const slice = useSyncExternalStoreWithSelector(\n    api.subscribe,\n    api.getState,\n    api.getServerState || api.getInitialState,\n    selector,\n    equalityFn\n  );\n  useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  if (process.env.NODE_ENV !== \"production\" && typeof createState !== \"function\") {\n    console.warn(\n      \"[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.\"\n    );\n  }\n  const api = typeof createState === \"function\" ? createStore(createState) : createState;\n  const useBoundStore = (selector, equalityFn) => useStore(api, selector, equalityFn);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = (createState) => createState ? createImpl(createState) : createImpl;\nvar react = (createState) => {\n  if (process.env.NODE_ENV !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`.\"\n    );\n  }\n  return create(createState);\n};\n\nexport { create, react as default, useStore };\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.agentHooks = void 0;\nconst react_1 = __importDefault(require(\"react\"));\nconst zustand_1 = require(\"zustand\");\nconst agentHooks = (agentManager) => {\n    const { agentStore, getAgent, subscribeAgent } = agentManager;\n    const useAgentState = () => (0, zustand_1.useStore)(agentStore);\n    const useAgent = () => {\n        const [agent, setAgent] = react_1.default.useState(getAgent);\n        react_1.default.useEffect(() => subscribeAgent(setAgent), [subscribeAgent]);\n        return agent;\n    };\n    return {\n        useAgent,\n        useAgentState,\n    };\n};\nexports.agentHooks = agentHooks;\n", "import ReactExports from 'react';\n\nfunction shallow(objA, objB) {\n  if (Object.is(objA, objB)) {\n    return true;\n  }\n  if (typeof objA !== \"object\" || objA === null || typeof objB !== \"object\" || objB === null) {\n    return false;\n  }\n  if (objA instanceof Map && objB instanceof Map) {\n    if (objA.size !== objB.size)\n      return false;\n    for (const [key, value] of objA) {\n      if (!Object.is(value, objB.get(key))) {\n        return false;\n      }\n    }\n    return true;\n  }\n  if (objA instanceof Set && objB instanceof Set) {\n    if (objA.size !== objB.size)\n      return false;\n    for (const value of objA) {\n      if (!objB.has(value)) {\n        return false;\n      }\n    }\n    return true;\n  }\n  const keysA = Object.keys(objA);\n  if (keysA.length !== Object.keys(objB).length) {\n    return false;\n  }\n  for (const keyA of keysA) {\n    if (!Object.prototype.hasOwnProperty.call(objB, keyA) || !Object.is(objA[keyA], objB[keyA])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nconst { useRef } = ReactExports;\nfunction useShallow(selector) {\n  const prev = useRef();\n  return (state) => {\n    const next = selector(state);\n    return shallow(prev.current, next) ? prev.current : prev.current = next;\n  };\n}\n\nexport { useShallow };\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"@ic-reactor/core/dist/utils\"), exports);\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.actorHooks = void 0;\nconst React = __importStar(require(\"react\"));\nconst zustand_1 = require(\"zustand\");\nconst shallow_1 = require(\"zustand/react/shallow\");\nconst utils_1 = require(\"../utils\");\nconst DEFAULT_STATE = {\n    data: undefined,\n    error: undefined,\n    loading: false,\n};\n/**\n * Provides a set of React hooks designed for interacting with actors in an Internet Computer (IC) project using the React framework and Zustand for state management.\n *\n * @param actorManager An instance of ActorManager containing methods and properties to manage actors, including the actorStore, canisterId, visitFunction, callMethod, and initialize function.\n * @returns An object containing several hooks and utility functions for interacting with actors, managing state, and invoking actor methods.\n *\n * Hooks included:\n * - initialize: Function to initialize actor management.\n * - useActorState: Hook for accessing the actor's state including the canister ID.\n * - useVisitMethod: Hook for memoizing a method visit service for a given actor method name.\n * - useQueryCall: Hook specifically designed for query calls to actors with features such as automatic refetching on mount and at specified intervals.\n * - useUpdateCall: Hook specifically designed for update calls to actors with features such as error handling and loading state management.\n *\n * Each hook is designed to simplify the process of interacting with actors in IC projects by abstracting away the complexity of state management, error handling, and method invocation.\n */\nconst actorHooks = (actorManager) => {\n    const { actorStore, canisterId, visitFunction, methodAttributes, updateMethodState, extractMethodAttributes, extractInterface, callMethodWithOptions, initialize, } = actorManager;\n    const useActorStore = (selector = (s) => s) => {\n        return (0, zustand_1.useStore)(actorStore, (0, shallow_1.useShallow)(selector));\n    };\n    const useActorState = () => {\n        return useActorStore((state) => ({\n            name: state.name,\n            error: state.error,\n            initialized: state.initialized,\n            initializing: state.initializing,\n            canisterId,\n        }));\n    };\n    const useMethodState = (functionName, requestKey) => {\n        const state = useActorStore((state) => { var _a; return (_a = state.methodState[functionName]) === null || _a === void 0 ? void 0 : _a[requestKey]; });\n        const setSharedState = React.useCallback((newState) => {\n            updateMethodState(functionName, requestKey, newState);\n        }, [functionName, requestKey]);\n        return [state, setSharedState];\n    };\n    const useMethodAttributes = () => {\n        return React.useMemo(extractMethodAttributes, []);\n    };\n    const useMethodNames = () => {\n        return React.useMemo(() => Object.keys(extractMethodAttributes()), []);\n    };\n    const useActorInterface = () => {\n        return React.useMemo(() => extractInterface(), []);\n    };\n    const useVisitService = () => {\n        return visitFunction;\n    };\n    const useVisitMethod = (functionName) => {\n        return React.useMemo(() => {\n            if (!visitFunction[functionName]) {\n                throw new Error(`Method ${functionName} not found`);\n            }\n            return visitFunction[functionName];\n        }, [functionName]);\n    };\n    const useSharedCall = (_a) => {\n        var { args = [], functionName, throwOnError = false, onError, onLoading, onSuccess } = _a, options = __rest(_a, [\"args\", \"functionName\", \"throwOnError\", \"onError\", \"onLoading\", \"onSuccess\"]);\n        const requestKey = React.useMemo(() => (0, utils_1.generateRequestHash)(args), [args]);\n        const [sharedState, setSharedState] = useMethodState(functionName, requestKey);\n        const reset = React.useCallback(() => updateMethodState(functionName, requestKey, DEFAULT_STATE), [functionName, requestKey]);\n        const call = React.useCallback((eventOrReplaceArgs) => __awaiter(void 0, void 0, void 0, function* () {\n            setSharedState({ error: undefined, loading: true });\n            onLoading === null || onLoading === void 0 ? void 0 : onLoading(true);\n            try {\n                const replaceArgs = eventOrReplaceArgs instanceof Array ? eventOrReplaceArgs : args;\n                const data = yield callMethodWithOptions(options)(functionName, ...(replaceArgs !== null && replaceArgs !== void 0 ? replaceArgs : args));\n                setSharedState({ data, error: undefined, loading: false });\n                onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess(data);\n                onLoading === null || onLoading === void 0 ? void 0 : onLoading(false);\n                return data;\n            }\n            catch (error) {\n                // eslint-disable-next-line no-console\n                console.error(\"Error in call:\", error);\n                setSharedState({\n                    error: error,\n                    loading: false,\n                });\n                onError === null || onError === void 0 ? void 0 : onError(error);\n                onLoading === null || onLoading === void 0 ? void 0 : onLoading(false);\n                if (throwOnError)\n                    throw error;\n            }\n        }), [args, functionName, options, onError, onLoading, onSuccess, throwOnError]);\n        return Object.assign({ call, reset, requestKey }, sharedState);\n    };\n    const useQueryCall = (_a) => {\n        var { refetchOnMount = true, refetchInterval = false } = _a, rest = __rest(_a, [\"refetchOnMount\", \"refetchInterval\"]);\n        const _b = useSharedCall(rest), { call } = _b, state = __rest(_b, [\"call\"]);\n        const intervalId = React.useRef();\n        React.useEffect(() => {\n            var _a;\n            if (refetchInterval) {\n                intervalId.current = setInterval(call, refetchInterval);\n            }\n            if (refetchOnMount && state.data === undefined) {\n                call();\n            }\n            else if (refetchOnMount && state.data !== undefined) {\n                (_a = rest.onSuccess) === null || _a === void 0 ? void 0 : _a.call(rest, state.data);\n            }\n            return () => clearInterval(intervalId.current);\n        }, [refetchInterval, refetchOnMount]);\n        return Object.assign({ call, intervalId }, state);\n    };\n    const useUpdateCall = useSharedCall;\n    const useMethod = (params) => {\n        const attributes = React.useMemo(() => {\n            if (!methodAttributes[params.functionName]) {\n                throw new Error(`Method ${params.functionName} not found`);\n            }\n            return methodAttributes[params.functionName];\n        }, [params.functionName]);\n        const visit = React.useCallback((extractorClass, data) => visitFunction[params.functionName](extractorClass, data), [params.functionName]);\n        const validateArgs = React.useCallback((args, throwOnError = false) => {\n            if (attributes.numberOfArgs > 0) {\n                if (args === undefined || args.length === 0) {\n                    if (throwOnError) {\n                        throw new Error(`Method ${params.functionName} requires ${attributes.numberOfArgs} arguments, but none were provided.`);\n                    }\n                    return false;\n                }\n                try {\n                    attributes.validate(args);\n                    return true;\n                }\n                catch (error) {\n                    if (throwOnError) {\n                        throw error;\n                    }\n                    return false;\n                }\n            }\n            return true;\n        }, [attributes]);\n        let refetchOnMount = params.refetchOnMount;\n        let refetchInterval = params.refetchInterval;\n        let formRequired = true;\n        switch (attributes.type) {\n            case \"query\":\n                if (validateArgs(params.args)) {\n                    formRequired = params.refetchOnMount === false ? true : false;\n                }\n                else {\n                    refetchOnMount = false;\n                    refetchInterval = false;\n                }\n                return Object.assign(Object.assign({ visit,\n                    validateArgs }, useQueryCall(Object.assign(Object.assign({}, params), { refetchOnMount,\n                    refetchInterval }))), { formRequired });\n            case \"update\":\n                return Object.assign(Object.assign({ visit, validateArgs }, useUpdateCall(params)), { formRequired });\n            default:\n                throw new Error(`Method type ${attributes.type} not found`);\n        }\n    };\n    return {\n        initialize,\n        useActorStore,\n        useMethodAttributes,\n        useMethodNames,\n        useMethod,\n        useQueryCall,\n        useUpdateCall,\n        useActorState,\n        useVisitMethod,\n        useVisitService,\n        useActorInterface,\n    };\n};\nexports.actorHooks = actorHooks;\n", "\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.authHooks = void 0;\nconst react_1 = __importDefault(require(\"react\"));\nconst zustand_1 = require(\"zustand\");\nconst utils_1 = require(\"@ic-reactor/core/dist/utils\");\nconst authHooks = (agentManager) => {\n    const { authenticate: authenticator, getIsLocal, getAuth, authStore, } = agentManager;\n    const useAuthState = () => (0, zustand_1.useStore)(authStore);\n    const useUserPrincipal = () => { var _a, _b; return (_b = (_a = useAuthState()) === null || _a === void 0 ? void 0 : _a.identity) === null || _b === void 0 ? void 0 : _b.getPrincipal(); };\n    const useAuth = ({ onAuthentication, onAuthenticationSuccess, onAuthenticationFailure, onLogin, onLoginSuccess, onLoginError, onLoggedOut, } = {}) => {\n        const network = react_1.default.useRef(\"ic\");\n        const [loginState, setLoginState] = react_1.default.useState({\n            loading: false,\n            error: undefined,\n        });\n        const { authenticated, authenticating, error, identity } = useAuthState();\n        const authenticate = react_1.default.useCallback(() => __awaiter(void 0, void 0, void 0, function* () {\n            const authenticatePromise = new Promise((resolve, reject) => {\n                authenticator()\n                    .then((identity) => {\n                    onAuthenticationSuccess === null || onAuthenticationSuccess === void 0 ? void 0 : onAuthenticationSuccess(identity);\n                    resolve(identity);\n                })\n                    .catch((e) => {\n                    onAuthenticationFailure === null || onAuthenticationFailure === void 0 ? void 0 : onAuthenticationFailure(e);\n                    reject(e);\n                });\n            });\n            onAuthentication === null || onAuthentication === void 0 ? void 0 : onAuthentication(() => authenticatePromise);\n            return authenticatePromise;\n        }), [\n            authenticator,\n            onAuthentication,\n            onAuthenticationSuccess,\n            onAuthenticationFailure,\n        ]);\n        const login = react_1.default.useCallback((options) => __awaiter(void 0, void 0, void 0, function* () {\n            setLoginState({ loading: true, error: undefined });\n            const loginPromise = new Promise((resolve, reject) => {\n                try {\n                    const authClient = getAuth();\n                    if (!authClient) {\n                        throw new Error(\"Auth client not initialized\");\n                    }\n                    authClient.login(Object.assign(Object.assign({ identityProvider: getIsLocal()\n                            ? utils_1.LOCAL_INTERNET_IDENTITY_PROVIDER\n                            : utils_1.IC_INTERNET_IDENTITY_PROVIDER }, options), { onSuccess: (msg) => {\n                            authenticate()\n                                .then((identity) => {\n                                var _a;\n                                const principal = identity.getPrincipal();\n                                (_a = options === null || options === void 0 ? void 0 : options.onSuccess) === null || _a === void 0 ? void 0 : _a.call(options, msg);\n                                onLoginSuccess === null || onLoginSuccess === void 0 ? void 0 : onLoginSuccess(principal);\n                                resolve(principal);\n                                setLoginState({ loading: false, error: undefined });\n                            })\n                                .catch((error) => {\n                                setLoginState({ loading: false, error });\n                                onLoginError === null || onLoginError === void 0 ? void 0 : onLoginError(error);\n                                reject(error);\n                            });\n                        }, onError: (error) => {\n                            var _a;\n                            (_a = options === null || options === void 0 ? void 0 : options.onError) === null || _a === void 0 ? void 0 : _a.call(options, error);\n                            setLoginState({ loading: false, error });\n                            onLoginError === null || onLoginError === void 0 ? void 0 : onLoginError(error);\n                            reject(error);\n                        } }));\n                }\n                catch (e) {\n                    const error = e;\n                    setLoginState({ loading: false, error });\n                    onLoginError === null || onLoginError === void 0 ? void 0 : onLoginError(error);\n                    reject(error);\n                }\n            });\n            onLogin === null || onLogin === void 0 ? void 0 : onLogin(() => loginPromise);\n        }), [onLogin, onLoginSuccess, onLoginError, authenticate]);\n        const logout = react_1.default.useCallback((options) => __awaiter(void 0, void 0, void 0, function* () {\n            const authClient = getAuth();\n            if (!authClient) {\n                throw new Error(\"Auth client not initialized\");\n            }\n            yield authClient.logout(options);\n            yield authenticate();\n            onLoggedOut === null || onLoggedOut === void 0 ? void 0 : onLoggedOut();\n        }), [onLoggedOut]);\n        react_1.default.useEffect(() => agentManager.subscribeAgentState((state) => {\n            if (network.current !== state.network) {\n                network.current = state.network;\n                authenticate();\n            }\n        }), []);\n        return {\n            authenticated,\n            authenticating,\n            identity,\n            error,\n            login,\n            logout,\n            authenticate,\n            loginLoading: loginState.loading,\n            loginError: loginState.error,\n        };\n    };\n    return {\n        useUserPrincipal,\n        useAuthState,\n        useAuth,\n    };\n};\nexports.authHooks = authHooks;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extractActorContext = void 0;\nconst react_1 = __importDefault(require(\"react\"));\nfunction extractActorContext(actorContext) {\n    const useActorContext = () => {\n        const context = react_1.default.useContext(actorContext);\n        if (!context) {\n            throw new Error(\"Actor hooks must be used within a ActorProvider\");\n        }\n        return context;\n    };\n    const initialize = () => useActorContext().initialize();\n    const useMethodNames = () => useActorContext().useMethodNames();\n    const useMethodAttributes = () => useActorContext().useMethodAttributes();\n    const useActorStore = (selector = (s) => s) => {\n        return useActorContext().useActorStore(selector);\n    };\n    const useActorState = () => useActorContext().useActorState();\n    const useMethod = (args) => useActorContext().useMethod(args);\n    const useQueryCall = (args) => useActorContext().useQueryCall(args);\n    const useUpdateCall = (args) => useActorContext().useUpdateCall(args);\n    const useVisitMethod = (functionName) => useActorContext().useVisitMethod(functionName);\n    const useVisitService = () => useActorContext().useVisitService();\n    const useActorInterface = () => useActorContext().useActorInterface();\n    return {\n        useActorStore,\n        useActorState,\n        useMethod,\n        useMethodNames,\n        useMethodAttributes,\n        useQueryCall,\n        useUpdateCall,\n        useVisitMethod,\n        useVisitService,\n        useActorInterface,\n        initialize,\n    };\n}\nexports.extractActorContext = extractActorContext;\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extractAgentContext = void 0;\nconst react_1 = __importDefault(require(\"react\"));\n/**\n * This function facilitates the use of contextually provided agent functionalities,\n * such as managing the agent's state, authentication state, and user principal.\n *\n * @param agentContext A React context object of type AgentContext or null,\n * typically provided by an AgentProvider at a higher level in the component tree.\n * @returns An object containing the following hooks:\n *  - useAgent: Hook for accessing the current agent instance.\n *  - useAuthState: Hook for accessing the current authentication state.\n *  - useAgentState: Hook for accessing the current state of the agent.\n *  - useAuth: Hook for accessing the authentication client, optionally accepting arguments for configuration.\n *  - useAgentManager: Hook for accessing the AgentManager instance.\n *  - useUserPrincipal: Hook for accessing the user's principal.\n *\n * Each hook is designed to be used within components that are descendants of an AgentProvider,\n * ensuring access to the necessary agent-related context.\n *\n * Throws:\n *  - Error if used outside of an AgentProvider context.\n *\n * ### Integration\n *\n * To use these hooks, ensure your components are wrapped in an `AgentProvider` that you've set up to supply the `AgentContext`.\n * This context provides the necessary agent functionalities and state management capabilities required by the hooks.\n */\nconst extractAgentContext = (agentContext) => {\n    const useAgentContext = () => {\n        const context = react_1.default.useContext(agentContext);\n        if (!context) {\n            throw new Error(\"Agent hooks must be used within a AgentProvider\");\n        }\n        return context;\n    };\n    const useAgentManager = () => {\n        const context = useAgentContext();\n        return context.agentManager;\n    };\n    const useAgent = () => useAgentContext().useAgent();\n    const useAuthState = () => useAgentContext().useAuthState();\n    const useAgentState = () => useAgentContext().useAgentState();\n    const useAuth = (args) => useAgentContext().useAuth(args);\n    const useUserPrincipal = () => useAgentContext().useUserPrincipal();\n    return {\n        useAgent,\n        useAuthState,\n        useAgentState,\n        useAuth,\n        useAgentManager,\n        useUserPrincipal,\n    };\n};\nexports.extractAgentContext = extractAgentContext;\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./agentHooks\"), exports);\n__exportStar(require(\"./actorHooks\"), exports);\n__exportStar(require(\"./authHooks\"), exports);\n__exportStar(require(\"./extractActorContext\"), exports);\n__exportStar(require(\"./extractAgentContext\"), exports);\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createReactor = void 0;\nconst core_1 = require(\"@ic-reactor/core\");\nconst helpers_1 = require(\"./helpers\");\n/**\n * Initializes and configures the reactor environment for interacting with the Internet Computer (IC) blockchain within a React application.\n * It encapsulates the creation of actors, authentication, and agent management, offering a streamlined interface for blockchain interactions.\n *\n * @param config Configuration {@link CreateReactorParameters} for the reactor, including:\n *  - `withProcessEnv` (optional): Specifies whether to use process environment variables to determine if the environment is local or development. Defaults to false.\n *  - `withLocalEnv` (optional): Indicates if the current environment is local or development, influencing the agent and actor behavior. Useful for testing or development.\n *  - `port` (optional): Port number for the local or development environment.\n *\n * @returns An object containing {@link CreateReactorReturnType} hooks and utilities:\n *  - {@link getAgent} - Returns the current agent instance.\n *  - {@link getVisitFunction} - Returns the visit function for the actor.\n *  - {@link useQueryCall} - A hook for querying actor methods.\n *  - {@link useUpdateCall} - A hook for updating actor methods.\n *  - {@link useAuth} - A hook for managing authentication and user principal.\n *  - {@link useActor} - A hook for managing actors and their methods.\n *  - {@link useActorManager} - A hook for managing actor manager and its methods.\n *  - {@link useAgentManager} - A hook for managing agent manager and its methods.\n *  - {@link initialize} - A function to initialize the actor manager if not initialized.\n *  - {@link useActorState} - A hook for managing actor state.\n *  - {@link useAgent} - A hook for managing agent and its methods.\n *  - {@link useAuthState} - A hook for managing authentication state.\n *  - {@link useAgentState} - A hook for managing agent state.\n *  - {@link useUserPrincipal} - A hook for managing user principal.\n *  - {@link useVisitMethod} - A hook for visiting actor methods.\n *\n * @example\n * ```typescript\n * import { createReactor } from \"@ic-reactor/react\";\n * import type { CreateReactorParameters } from \"@ic-reactor/react/dist/types\";\n * import { canisterId, idlFactory, yourActor } from \"./declaration/yourActor\"\n *\n * const config: CreateReactorParameters = {\n *   canisterId,\n *   idlFactory,\n *   host: \"https://localhost:8000\", // IC network host         |\n *   withLocalEnv: true, // Set true for local network          | one of these\n *   withProcessEnv: true, // Use process.env to determine host |\n *   port: 8000, // Port number for local network\n * };\n *\n * export type YourActor = typeof yourActor;\n *\n * export const { useAuth, useQueryCall, useUpdateCall } = createReactor<YourActor>(config);\n * // Now you can use the returned hooks in your React components\n * ```\n */\nconst createReactor = (config) => {\n    const actorManager = (0, core_1.createReactorStore)(config);\n    const getVisitFunction = () => {\n        return actorManager.visitFunction;\n    };\n    const getAgent = () => {\n        return actorManager.agentManager.getAgent();\n    };\n    return Object.assign(Object.assign(Object.assign({ getAgent,\n        getVisitFunction }, (0, helpers_1.actorHooks)(actorManager)), (0, helpers_1.authHooks)(actorManager.agentManager)), (0, helpers_1.agentHooks)(actorManager.agentManager));\n};\nexports.createReactor = createReactor;\n", "\"use strict\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createAgentContext = void 0;\nconst react_1 = __importDefault(require(\"react\"));\nconst core_1 = require(\"@ic-reactor/core\");\nconst agentHooks_1 = require(\"../../helpers/agentHooks\");\nconst authHooks_1 = require(\"../../helpers/authHooks\");\nconst extractAgentContext_1 = require(\"../../helpers/extractAgentContext\");\n/**\n * Creates a React context for managing IC agent and authentication states, providing hooks for interacting with the IC blockchain.\n * This function initializes an `AgentContext` with a set of utilities and hooks based on the provided agent configuration.\n *\n * @param config A partial configuration object {@link CreateAgentCotextParameters}, allowing customization of the agent's behavior.\n *\n * @returns\n * An object containing the {@link AgentProvider} component and various hooks for interacting with the agent and authentication state.\n * The {@link AgentProvider} component is a React context provider that should wrap your app or components needing access to agent functionalities.\n *\n * Usage:\n * - {@link AgentProvider}: React component to provide agent context to your application.\n * - {@link useAgent}, {@link useAuth}, {@link useAuthState},\n *   {@link useAgentState}, {@link useAgentManager}, {@link useUserPrincipal}:\n *  Hooks extracted from the created context for managing agent and authentication state within components.\n *\n * @example\n * ```tsx\n * // agent.ts\n * import { createAgentContext } from \"@ic-reactor/react\";\n * import { CreateAgentCotextParameters } from \"@ic-reactor/react/dist/types\";\n *\n * // Optional: Define custom agent configuration\n * const agentConfig: CreateAgentCotextParameters = {\n *   host: \"https://localhost:8000\",\n *   // or\n *   // withLocalEnv: true,\n *   // port: 8000,\n * };\n *\n * export const {\n *   AgentProvider,\n *   useAgent,\n *   useAuth,\n *   useAuthState,\n *   useAgentState,\n *   useAgentManager,\n *   useUserPrincipal,\n * } = createAgentContext(agentConfig);\n *```\n * Now you can use the returned hooks in your React components\n *\n * ```tsx\n * // App.tsx\n * import React from 'react';\n * import { AgentProvider } from './agent';\n *\n * const App = () => (\n *   <AgentProvider>\n *     <Login />\n *     <YourActor />\n *   </AgentProvider>\n * );\n *\n * const Login = () => {\n *  const { login } = useAuth()\n *  const principal = useUserPrincipal()\n *\n *  return (\n *    <div>\n *      <button onClick={() => login()}>Login</button>\n *      <p>User: {principal?.toText()}</p>\n *    </div>\n *  )\n * };\n *\n * ```\n *\n * This setup allows you to use the agent and authentication hooks within\n * the components wrapped by {@link AgentProvider}, facilitating interaction\n * with the Internet Computer blockchain.\n */\nfunction createAgentContext(config = {}) {\n    const { disableAuthenticateOnMount: defaultDisable } = config, contextOptions = __rest(config, [\"disableAuthenticateOnMount\"]);\n    const AgentContext = react_1.default.createContext(null);\n    const AgentProvider = (_a) => {\n        var { children, agentManager: mybeAgentManager, disableAuthenticateOnMount = defaultDisable !== null && defaultDisable !== void 0 ? defaultDisable : false } = _a, options = __rest(_a, [\"children\", \"agentManager\", \"disableAuthenticateOnMount\"]);\n        const hooks = react_1.default.useMemo(() => {\n            const agentManager = mybeAgentManager !== null && mybeAgentManager !== void 0 ? mybeAgentManager : (0, core_1.createAgentManager)(Object.assign(Object.assign({}, options), contextOptions));\n            if (!disableAuthenticateOnMount) {\n                agentManager.authenticate();\n            }\n            return Object.assign(Object.assign(Object.assign({}, (0, agentHooks_1.agentHooks)(agentManager)), (0, authHooks_1.authHooks)(agentManager)), { agentManager });\n        }, []);\n        return (react_1.default.createElement(AgentContext.Provider, { value: hooks }, children));\n    };\n    AgentProvider.displayName = \"AgentProvider\";\n    return Object.assign({ AgentProvider }, (0, extractAgentContext_1.extractAgentContext)(AgentContext));\n}\nexports.createAgentContext = createAgentContext;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AgentProvider = void 0;\nconst _1 = require(\".\");\n/**\n * `AgentProvider` is a React functional component that serves as a context provider for IC agent and authentication hooks.\n * It enables any child components to access and use the agent and authentication functionalities seamlessly.\n *\n * The provider encapsulates the logic for initializing and managing an agent manager instance, which is then used to\n * create various hooks related to agent operations and authentication processes. These hooks are made available to all\n * child components through the context, facilitating a centralized and efficient way to interact with the Internet Computer (IC) blockchain.\n *\n * @param children - Child components that can consume the context.\n * @param agentManager - An optional `AgentManager` instance to be used by the provider. If not provided, a new instance\n *                       will be created based on the provided options combined with default configuration.\n * @param options - Configuration options for the `AgentManager`. These options are merged with any default configurations\n *                  specified during the context creation and can include custom settings for the agent, such as identity,\n *                  host URL, etc.\n *\n * @example\n * Wrap your App with `AgentProvider` to provide all child components access to IC agent and authentication hooks.\n *\n * ```jsx\n * <AgentProvider>\n *   <App />\n * </AgentProvider>\n * ```\n *\n * Inside `App` or any of its children, you can use the hooks provided through the context to interact with the IC,\n * manage authentication, and perform other agent-related tasks.\n */\nexports.AgentProvider = _1.AgentHooks.AgentProvider;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useAgent = void 0;\nconst __1 = require(\"..\");\n/**\n * Accesses the current agent instance.\n *\n * @example\n *```jsx\n *  function AgentComponent() {\n *    const agent = useAgent();\n *\n *    // Use agent for interacting with the Internet Computer.\n *    return <div>{agent.isLocal() ? 'Local' : 'Remote'}</div>;\n *  }\n *```\n */\nexports.useAgent = __1.AgentHooks.useAgent;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useAgentState = void 0;\nconst __1 = require(\"..\");\n/**\n * Accesses the current state of the agent.\n *\n * @example\n * ```jsx\n * function AgentStateComponent() {\n *  const { initialized, initializing } = useAgentState();\n *\n *  return (\n *   <div>\n *    {initialized\n *      ? 'Agent is initialized.'\n *        : initializing\n *        ? 'Agent is initializing...'\n *        : 'Agent is not initialized.'}\n *   </div>\n *  );\n * }\n * ```\n */\nexports.useAgentState = __1.AgentHooks.useAgentState;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useAgentManager = void 0;\nconst __1 = require(\"..\");\n/**\n * Accesses the `AgentManager` instance for managing agent configurations and state.\n *\n * @example\n *```jsx\n *  function AgentManagerComponent() {\n *    const agentManager = useAgentManager();\n *\n *    // Use agentManager for managing agent configurations, etc.\n *    return <div>Agent Manager ready.</div>;\n *  }\n *```\n */\nexports.useAgentManager = __1.AgentHooks.useAgentManager;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useAuth = void 0;\nconst __1 = require(\"..\");\n/**\n * `useAuth` is a custom React hook designed to manage authentication processes in applications interacting with the Internet Computer (IC).\n * It encapsulates the logic for logging in, logging out, and maintaining the authentication state, leveraging an authentication client.\n *\n * @param options - An optional object containing the following properties:\n * - `onAuthentication`: Callback function triggered before authentication starts.\n * - `onAuthenticationSuccess`: Callback function triggered on successful authentication, receives the authenticated `Identity`.\n * - `onAuthenticationFailure`: Callback function triggered on authentication failure, receives the error.\n * - `onLogin`: Callback function triggered before the login process starts.\n * - `onLoginSuccess`: Callback function triggered on successful login, receives the user's `Principal`.\n * - `onLoginError`: Callback function triggered on login error, receives the error.\n * - `onLoggedOut`: Callback function triggered after logging out.\n *\n * @returns An object containing the following properties:\n * - `authenticated`: Boolean indicating if the user is currently authenticated.\n * - `authenticating`: Boolean indicating if an authentication process is currently underway.\n * - `identity`: The authenticated user's `Identity`, if available.\n * - `error`: Any error that occurred during the authentication process.\n * - `login`: Function to initiate the login process, optionally accepting `LoginParameters`.\n * - `logout`: Function to log the user out, optionally accepting `LogoutParameters`.\n * - `authenticate`: Function to authenticate the user, internally used by `login` and `logout`.\n * - `loginLoading`: Boolean indicating if a login operation is in progress.\n * - `loginError`: Error object if an error occurred during the login process.\n *\n * Usage:\n * This hook can be used to add authentication functionality to your IC application components, handling user login, logout, and authentication state management seamlessly.\n *\n * Example:\n * ```jsx\n * const YourComponent = () => {\n *   const { login, logout, authenticated, identity, loginError } = useAuth({\n *     onLoginSuccess: (principal) => console.log(`Logged in as ${principal}`),\n *     onLoginError: (error) => console.error(`Login failed: ${error.message}`),\n *   });\n *\n *   if (loginError) {\n *     return <div>Error logging in: {loginError.message}</div>;\n *   }\n *\n *   return (\n *     <div>\n *       {authenticated ? (\n *         <>\n *           <div>Authenticated as {identity.getPrincipal().toText()}</div>\n *           <button onClick={() => logout()}>Logout</button>\n *         </>\n *       ) : (\n *         <button onClick={() => login()}>Login</button>\n *       )}\n *     </div>\n *   );\n * };\n * ```\n *\n * This hook simplifies integrating authentication flows into your IC application, providing hooks for various stages of the authentication process.\n */\nexports.useAuth = __1.AgentHooks.useAuth;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useAuthState = void 0;\nconst __1 = require(\"..\");\n/**\n * Accesses the current authentication state.\n *\n * @example\n * ```jsx\n * function AuthStateComponent() {\n *   const { authenticated, authenticating, identity, error } = useAuthState();\n *\n *   return (\n *     <div>\n *       {authenticating ? 'Authenticating...' : ''}\n *       {error ? `Error: ${error.message}` : ''}\n *       {authenticated ? `User ${identity?.getPrincipal()} is authenticated.` : 'User is not authenticated.'}\n *     </div>\n *   );\n * }\n * ```\n */\nexports.useAuthState = __1.AgentHooks.useAuthState;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useUserPrincipal = void 0;\nconst __1 = require(\"..\");\n/**\n * Accesses the user's principal.\n *\n * @example\n * ```jsx\n * function UserPrincipalComponent() {\n *   const userPrincipal = useUserPrincipal();\n *\n *   return (\n *     <div>\n *       {userPrincipal ? `User principal: ${userPrincipal}` : 'User principal not found.'}\n *     </div>\n *   );\n * }\n * ```\n */\nexports.useUserPrincipal = __1.AgentHooks.useUserPrincipal;\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AgentHooks = exports.createAgentContext = void 0;\nconst create_1 = require(\"./create\");\nObject.defineProperty(exports, \"createAgentContext\", { enumerable: true, get: function () { return create_1.createAgentContext; } });\n/** @ignore */\nexports.AgentHooks = (0, create_1.createAgentContext)();\n__exportStar(require(\"./provider\"), exports);\n__exportStar(require(\"./hooks/useAgent\"), exports);\n__exportStar(require(\"./hooks/useAgentState\"), exports);\n__exportStar(require(\"./hooks/useAgentManager\"), exports);\n__exportStar(require(\"./hooks/useAuth\"), exports);\n__exportStar(require(\"./hooks/useAuthState\"), exports);\n__exportStar(require(\"./hooks/useUserPrincipal\"), exports);\n", "\"use strict\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createAdapterContext = void 0;\nconst react_1 = __importDefault(require(\"react\"));\nconst agent_1 = require(\"../agent\");\nconst core_1 = require(\"@ic-reactor/core\");\nfunction createAdapterContext(config = {}) {\n    const { withParser: _withParser, didjsCanisterId: _didjsCanisterId } = config, defaultConfig = __rest(config, [\"withParser\", \"didjsCanisterId\"]);\n    const CandidAdapterContext = react_1.default.createContext(null);\n    const useCandidAdapter = () => {\n        const candidAdapter = react_1.default.useContext(CandidAdapterContext);\n        return candidAdapter;\n    };\n    const CandidAdapterProvider = (_a) => {\n        var { children, withParser = _withParser, loadingComponent = react_1.default.createElement(\"div\", null, \"Loading Parser...\"), didjsCanisterId = _didjsCanisterId } = _a, restConfig = __rest(_a, [\"children\", \"withParser\", \"loadingComponent\", \"didjsCanisterId\"]);\n        const config = react_1.default.useMemo(() => (Object.assign(Object.assign({}, defaultConfig), restConfig)), [defaultConfig, restConfig]);\n        const [initalized, setInitialized] = react_1.default.useState(false);\n        const agentManager = (0, agent_1.useAgentManager)();\n        const candidAdapter = react_1.default.useMemo(() => (0, core_1.createCandidAdapter)(Object.assign({ agentManager, didjsCanisterId }, config)), [didjsCanisterId, agentManager]);\n        react_1.default.useEffect(() => {\n            if (withParser) {\n                candidAdapter.initializeParser().then(() => setInitialized(true));\n            }\n            else {\n                setInitialized(true);\n            }\n        }, []);\n        return (react_1.default.createElement(CandidAdapterContext.Provider, { value: candidAdapter }, initalized ? children : loadingComponent));\n    };\n    CandidAdapterProvider.displayName = \"CandidAdapterProvider\";\n    return {\n        useCandidAdapter,\n        CandidAdapterProvider,\n    };\n}\nexports.createAdapterContext = createAdapterContext;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CandidAdapterProvider = void 0;\nconst _1 = require(\".\");\n/**\n * `CandidAdapterProvider` is a React component that provides the CandidAdapter to its children.\n * It initializes the CandidAdapter with the provided options and makes it available to all children.\n *\n * @example\n * ```tsx\n * import { AgentProvider, CandidAdapterProvider, ActorProvider } from \"@ic-reactor/react\"\n *\n * const App = () => (\n *  <AgentProvider>\n *    <CandidAdapterProvider>\n *       Your Actors here, it will able to fetch the Candid interface\n *       you dont need to pass the idlFactory to the Actor component\n *       e.g.\n *      <ActorProvider canisterId=\"ryjl3-tyaaa-aaaaa-aaaba-cai\" />\n *    </CandidAdapterProvider>\n *  </AgentProvider>\n * )\n *\n * export default App\n * ```\n */\nexports.CandidAdapterProvider = _1.AdapterHooks.CandidAdapterProvider;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useCandidAdapter = void 0;\nconst __1 = require(\"..\");\n/**\n * Accesses the `CandidAdapter` to download the actor's Candid interface.\n *\n * @param config - `UseCandidAdapterParams` The configuration object.\n * @returns The `CandidAdapter` instance.\n *\n * @example\n * ```jsx\n * function CandidAdapterComponent() {\n *   const candidAdapter = useCandidAdapter();\n *\n *   const getActor = async () => {\n *      const { idlFactory } = await candidAdapter.getCandidDefinition(canisterId)\n *      console.log(idlFactory)\n *   }\n *\n *   return (\n *       <button onClick={getActor}>Get Actor</button>\n *   );\n * }\n *```\n */\nexports.useCandidAdapter = __1.AdapterHooks.useCandidAdapter;\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AdapterHooks = exports.createAdapterContext = void 0;\nconst create_1 = require(\"./create\");\nObject.defineProperty(exports, \"createAdapterContext\", { enumerable: true, get: function () { return create_1.createAdapterContext; } });\n/** @ignore */\nexports.AdapterHooks = (0, create_1.createAdapterContext)();\n__exportStar(require(\"./provider\"), exports);\n__exportStar(require(\"./hooks/useCandidAdapter\"), exports);\n", "\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useActor = void 0;\nconst core_1 = require(\"@ic-reactor/core\");\nconst react_1 = require(\"react\");\nconst helpers_1 = require(\"../helpers\");\nconst adapter_1 = require(\"../context/adapter\");\nconst agent_1 = require(\"../context/agent\");\n/**\n * A comprehensive hook that manages both the fetching of Candid interfaces\n * and the initialization of actor stores for Internet Computer (IC) canisters.\n * It simplifies the process of interacting with canisters by encapsulating\n * the logic for Candid retrieval and actor store management.\n *\n * You can use react context to share the actor hooks across your application.\n *\n * @example\n * ```tsx\n * import { AgentProvider, extractActorHooks, useActor } from \"@ic-reactor/react\"\n * import { createContext } from \"react\"\n * import type { ActorHooks } from \"@ic-reactor/react/dist/types\"\n * // With this import, you can have type safety for the actor's interface.\n * // You can get it from the `.did.d.ts` file generated by the DFX tool.\n * // or from dashboard https://dashboard.internetcomputer.org/canisters/<canister-id>\n * import type { Ledger } from \"../declarations/ledger\"\n *\n * const ActorContext = createContext<ActorHooks<Ledger> | null>(null)\n *\n * export const { useQueryCall, useUpdateCall } = extractActorHooks(ActorContext)\n *\n * const LedgerActor = ({ children }) => {\n *   const { hooks, fetching, fetchError } = useActor<Ledger>({\n *     canisterId: \"ryjl3-tyaaa-aaaaa-aaaba-cai\", // ICP Ledger canister\n *     idlFactory // optional: it will be fetched using CandidAdapter\n *   })\n *\n *   return (\n *     <ActorContext.Provider value={hooks}>\n *       <h2>IC Canister Interaction</h2>\n *       {fetching && <p>Loading Candid interface...</p>}\n *       {fetchError && <p>Error: {fetchError}</p>}\n *       {hooks && children}\n *     </ActorContext.Provider>\n *   )\n * }\n * // later in the code\n * const CanisterName = () => {\n *   const { data } = useQueryCall({\n *     functionName: \"name\",\n *   })\n *\n *   return (\n *     <div>\n *       <h3>Query Call</h3>\n *       <p>Result: {JSON.stringify(data)}</p>\n *     </div>\n *   )\n * }\n *\n * const App = () => (\n *   <AgentProvider withDevtools>\n *     <CandidAdapterProvider>\n *      <LedgerActor>\n *       <CanisterName />\n *      </LedgerActor>\n *    </CandidAdapterProvider>\n *   </AgentProvider>\n * )\n *\n * export default App\n * ```\n */\nconst useActor = (config) => {\n    const { canisterId, candidString, idlFactory: maybeIdlFactory } = config, actorConfig = __rest(config, [\"canisterId\", \"candidString\", \"idlFactory\"]);\n    if (!canisterId) {\n        throw new Error(\"canisterId is required\");\n    }\n    const [actorManager, setActorManager] = (0, react_1.useState)(null);\n    (0, react_1.useEffect)(() => {\n        if ((actorManager === null || actorManager === void 0 ? void 0 : actorManager.canisterId) !== canisterId.toString()) {\n            setActorManager(null);\n        }\n        return actorManager === null || actorManager === void 0 ? void 0 : actorManager.cleanup();\n    }, [canisterId, actorManager]);\n    const [{ fetching, fetchError }, setState] = (0, react_1.useState)({\n        fetching: false,\n        fetchError: null,\n    });\n    const candidAdapter = (0, adapter_1.useCandidAdapter)();\n    const authenticating = (0, agent_1.useAuthState)().authenticating;\n    const fetchCandid = (0, react_1.useCallback)(() => __awaiter(void 0, void 0, void 0, function* () {\n        if (fetching)\n            return;\n        setState({\n            fetching: true,\n            fetchError: null,\n        });\n        try {\n            const { idlFactory } = yield candidAdapter.getCandidDefinition(canisterId);\n            setState({\n                fetching: false,\n                fetchError: null,\n            });\n            return idlFactory;\n        }\n        catch (err) {\n            // eslint-disable-next-line no-console\n            console.error(err);\n            setState({\n                fetchError: `Error fetching canister ${canisterId}`,\n                fetching: false,\n            });\n        }\n    }), [canisterId]);\n    const evaluateCandid = (0, react_1.useCallback)(() => __awaiter(void 0, void 0, void 0, function* () {\n        try {\n            const definition = yield candidAdapter.dynamicEvalJs(candidString);\n            if (typeof (definition === null || definition === void 0 ? void 0 : definition.idlFactory) !== \"function\") {\n                throw new Error(\"Error evaluating Candid definition\");\n            }\n            return definition.idlFactory;\n        }\n        catch (err) {\n            // eslint-disable-next-line no-console\n            console.error(err);\n            setState({\n                fetchError: `Error evaluating Candid definition, ${err}`,\n                fetching: false,\n            });\n        }\n    }), [candidString]);\n    const agentManager = (0, agent_1.useAgentManager)();\n    const initialActorManager = (0, react_1.useCallback)((idlFactory) => {\n        if (authenticating || !idlFactory)\n            return;\n        const actorManager = (0, core_1.createActorManager)(Object.assign({ agentManager,\n            idlFactory,\n            canisterId }, actorConfig));\n        setActorManager(actorManager);\n    }, [canisterId, agentManager, authenticating]);\n    const handleActorInitialization = (0, react_1.useCallback)(() => __awaiter(void 0, void 0, void 0, function* () {\n        if (authenticating)\n            return;\n        if (maybeIdlFactory) {\n            initialActorManager(maybeIdlFactory);\n            return;\n        }\n        if (!candidAdapter) {\n            throw new Error(\"CandidAdapter is necessary to fetch the Candid interface. Please ensure your application is wrapped with the CandidAdapterProvider, or provide the idlFactory directly.\");\n        }\n        let idlFactory;\n        if (candidString) {\n            idlFactory = yield evaluateCandid();\n        }\n        else {\n            idlFactory = yield fetchCandid();\n        }\n        initialActorManager(idlFactory);\n    }), [fetchCandid, evaluateCandid, maybeIdlFactory, initialActorManager]);\n    (0, react_1.useEffect)(() => {\n        handleActorInitialization();\n    }, [handleActorInitialization]);\n    const hooks = (0, react_1.useMemo)(() => {\n        if (!actorManager)\n            return null;\n        return (0, helpers_1.actorHooks)(actorManager);\n    }, [actorManager]);\n    return { hooks, authenticating, fetching, fetchError };\n};\nexports.useActor = useActor;\n", "\"use strict\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createActorContext = void 0;\nconst react_1 = __importDefault(require(\"react\"));\nconst useActor_1 = require(\"../../hooks/useActor\");\nconst extractActorContext_1 = require(\"../../helpers/extractActorContext\");\n/**\n * Creates a React context specifically designed for managing the state and interactions with an actor on the Internet Computer (IC) blockchain.\n * This context facilitates the dynamic creation and management of IC actors within React applications, leveraging the provided configuration options.\n *\n * @param reactorParameters A partial configuration object for the actor context, allowing customization and specification of actor-related settings.\n * - `canisterId`: The default Canister ID to be used if not overridden in the `ActorProvider` component.\n * - Other configurations can include properties related to the actor's interaction, such as agent options or authentication requirements.\n *\n * @returns An object containing the `ActorProvider` component and various hooks for interacting with the actor.\n * - `ActorProvider`: A context provider component that allows child components to access and interact with the configured actor.\n * - Hooks: Custom hooks derived from the actor context, facilitating interactions like querying or updating the actor's state.\n *\n * @example\n * ```jsx\n * import React from 'react';\n * import { createActorContext } from '@ic-reactor/react';\n * import { backend, canisterId, idlFactory } from './declarations/candid'; // Assuming 'declarations/candid' is where your actor interface is defined.\n *\n * // Initialize the actor context with configuration options\n * const { ActorProvider, useActorState, useQueryCall, useUpdateCall } = createActorContext<typeof backend>({\n *   canisterId,\n *   idlFactory, // Optional, wrap the ActorProvider with CandidAdapterProvider\n * });\n *\n * // A sample component that utilizes the actor context\n * const App = () => (\n *   <AgentProvider>\n *     <ActorProvider>\n *       <div>\n *         <h1>IC Actor Interaction Example</h1>\n *         <ActorComponent />\n *       </div>\n *     </ActorProvider>\n *   </AgentProvider>\n * );\n *\n * export default App;\n *\n * // A sample component that uses the actor hooks\n * const ActorComponent = () => {\n *   const { data, loading, error } = useQueryCall({\n *      functionName: 'backendMethodName',\n *      args: [],\n *      refetchInterval: 10000,\n *      refetchOnMount: true,\n *   });\n  \n *   return (\n *     <div>\n *        {loading && <p>Loading...</p>}\n *        {error && <p>Error: {error.message}</p>}\n *        {data && <p>Actor data: {data}</p>}\n *     </div>\n *   );\n * };\n * ```\n *\n * This function streamlines the process of setting up a context for IC actor interactions within a React app,\n * it provides a type-safe and efficient way to manage actor state and interactions.\n */\nfunction createActorContext(contextConfig = {}) {\n    const { canisterId: defaultCanisterId } = contextConfig, defaultConfig = __rest(contextConfig, [\"canisterId\"]);\n    const ActorContext = react_1.default.createContext(null);\n    const ActorProvider = (_a) => {\n        var { children, canisterId = defaultCanisterId, loadingComponent = react_1.default.createElement(\"div\", null, \"Fetching canister...\"), authenticatingComponent = react_1.default.createElement(\"div\", null, \"Authenticating...\") } = _a, restConfig = __rest(_a, [\"children\", \"canisterId\", \"loadingComponent\", \"authenticatingComponent\"]);\n        if (!canisterId) {\n            throw new Error(\"canisterId is required\");\n        }\n        const config = react_1.default.useMemo(() => (Object.assign(Object.assign({}, defaultConfig), restConfig)), [defaultConfig, restConfig]);\n        const { fetchError, authenticating, hooks } = (0, useActor_1.useActor)(Object.assign({ canisterId }, config));\n        return (react_1.default.createElement(ActorContext.Provider, { value: hooks }, hooks === null\n            ? fetchError\n                ? fetchError\n                : authenticating\n                    ? authenticatingComponent\n                    : loadingComponent\n            : children));\n    };\n    ActorProvider.displayName = \"ActorProvider\";\n    const ActorHookProvider = ({ hooks, children, }) => {\n        return (react_1.default.createElement(ActorContext.Provider, { value: hooks }, children));\n    };\n    return Object.assign({ ActorProvider,\n        ActorHookProvider }, (0, extractActorContext_1.extractActorContext)(ActorContext));\n}\nexports.createActorContext = createActorContext;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ActorHookProvider = exports.ActorProvider = void 0;\nconst _1 = require(\".\");\n/**\n * `ActorProvider` is a React functional component that serves as a context provider for IC actor interactions within a React application.\n * It wraps child components, providing them access to actor-specific hooks and functionalities based on the provided canister ID and configuration.\n *\n * Props:\n * - `canisterId` (optional): string - The Canister ID for actor interactions. If not provided, the default from `createActorContext` is used.\n * - `idlFactory` (optional): IDL.InterfaceFactory - The IDL factory for the actor interface. If not provided, the default from `createActorContext` is used.\n * - `didjsId` (optional): string - The DID.js ID for authentication. If not provided, the default from `createActorContext` is used.\n * - `loadingComponent` (optional): React Node - A component displayed during the loading/fetching state. Defaults to a simple message.\n * - `authenticatingComponent` (optional): React Node - A component displayed during the authentication state. Defaults to a simple message.\n * - `children`: React Node - The child components that will have access to the actor context.\n *\n * Behavior:\n * - Validates the presence of a `canisterId`. Throws an error if it is missing, ensuring that a valid canister ID is always used for actor operations.\n * - Utilizes `useMemo` to combine the default configuration with the props provided to the `ActorProvider`, optimizing for performance by avoiding unnecessary recalculations.\n * - Employs the `useActor` hook to initiate actor interactions based on the combined configuration, managing states such as `fetching`, `fetchError`, and the actor `hooks`.\n * - Conditionally renders the `loadingComponent` or `fetchError` based on the actor fetching state. Once the actor is ready and no errors are present, it renders the child components, effectively providing them access to the actor context.\n *\n * @example\n * ```jsx\n * <ActorProvider canisterId=\"your-canister-id\" idlFactory={yourIdlFactory}>\n *   <YourComponent />\n * </ActorProvider>\n * ```\n * This setup ensures that `YourComponent` and any of its children can interact with the specified IC actor through the context provided by `ActorProvider`.\n */\nexports.ActorProvider = _1.ActorHooks.ActorProvider;\n/**\n * `ActorHookProvider` is a React functional component that serves as a context provider for IC actor hooks within a React application.\n * It wraps child components, providing them access to actor-specific hooks and functionalities based on the provided actor hooks and configuration.\n *\n * Props:\n * - `hooks`: ActorHooksReturnType - The actor hooks object containing the various actor interaction hooks.\n * - `children`: React Node - The child components that will have access to the actor hooks context.\n *\n * Behavior:\n * - Validates the presence of the `hooks` object. Throws an error if it is missing, ensuring that the actor hooks are always available for actor operations.\n * - Utilizes `useMemo` to memoize the `hooks` object, optimizing for performance by avoiding unnecessary recalculations.\n * - Renders the child components once the `hooks` object is available, effectively providing them access to the actor hooks context.\n *\n * @example\n * ```jsx\n * <ActorHookProvider hooks={yourActorHooks}>\n *   <YourComponent />\n * </ActorHookProvider>\n * ```\n * This setup ensures that `YourComponent` and any of its children can interact with the specified IC actor hooks through the context provided by `ActorHookProvider`.\n */\nexports.ActorHookProvider = _1.ActorHooks.ActorHookProvider;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useMethodNames = void 0;\nconst __1 = require(\"..\");\n/**\n * Hook for accessing the method names of an actor.\n *\n * @returns An array of method names for the actor.\n */\nconst useMethodNames = () => __1.ActorHooks.useMethodNames();\nexports.useMethodNames = useMethodNames;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useQueryCall = void 0;\nconst __1 = require(\"..\");\n/**\n * Hook for making query calls to actors. It supports automatic refetching on component mount and at specified intervals.\n *\n * @param args {@link UseQueryCallParameters}.\n * @returns object {@link UseSharedCallReturnType}.\n * @example\n * ```tsx\n * function QueryCallComponent() {\n *    const { call, data, loading } = useQueryCall({\n *      functionName: 'getUserProfile',\n *      args: ['123'],\n *      refetchOnMount: true,\n *      refetchInterval: 5000, // refetch every 5 seconds\n *    });\n *\n *    if (loading) return <p>Loading profile...</p>;\n *\n *    return (\n *      <div>\n *        <p>User Profile: {JSON.stringify(data)}</p>\n *        <button onClick={call}>Refetch</button>\n *      </div>\n *    );\n * }\n * ```\n */\nfunction useQueryCall(args) {\n    return __1.ActorHooks.useQueryCall(args);\n}\nexports.useQueryCall = useQueryCall;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useUpdateCall = void 0;\nconst __1 = require(\"..\");\n/**\n * Hook for making update calls to actors, handling loading states, and managing errors. It supports custom event handlers for loading, success, and error events.\n *\n * @param args {@link UseUpdateCallParameters}.\n * @returns object {@link UseSharedCallReturnType}.\n * @example\n * ```tsx\n * function UpdateCallComponent() {\n *   const { call, data, loading } = useUpdateCall({\n *      functionName: 'updateUserProfile',\n *      args: ['123', { name: 'John Doe' }],\n *      onLoading: (loading) => console.log('Loading:', loading),\n *      onError: (error) => console.error('Error:', error),\n *      onSuccess: (data) => console.log('Success:', data),\n *   });\n *\n *  if (loading) return <p>Updating profile...</p>;\n *\n *  return (\n *    <div>\n *      <p>Updated Profile: {JSON.stringify(data)}</p>\n *      <button onClick={call}>Update</button>\n *    </div>\n *  );\n * }\n * ```\n */\nfunction useUpdateCall(args) {\n    return __1.ActorHooks.useUpdateCall(args);\n}\nexports.useUpdateCall = useUpdateCall;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useMethodAttributes = void 0;\nconst __1 = require(\"..\");\n/**\n * Hook for accessing the method attributes of an actor.\n *\n * @returns An array of method attributes for the actor.\n */\nconst useMethodAttributes = () => __1.ActorHooks.useMethodAttributes();\nexports.useMethodAttributes = useMethodAttributes;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useActorStore = void 0;\nconst __1 = require(\"..\");\n/**\n * Provides a hook for accessing the state of an actor from the actor's store.\n * This hook is part of a set of utilities that facilitate interactions with\n * Internet Computer (IC) canisters by abstracting the complexities associated\n * with actor management and state retrieval.\n *\n * The `useActorStore` hook allows components to subscribe to and retrieve state\n * from the actor store in a reactive way. This enables components to re-render\n * when specific parts of the actor state change, which is managed by a selector function.\n *\n * @template A The type of the actor, extending from a base actor structure.\n * @template T The type of the data selected from the actor's state.\n * @param {Function} [selector=(s: ActorState<A>) => s as T] A function that\n *        selects a part of the actor state. This function should accept the actor state\n *        and return a portion of the state. If no selector is provided, the entire\n *        state is returned.\n *\n * @returns {T} The selected state from the actor store. The nature of the returned\n *         state depends on the selector function provided.\n *\n * @example\n * ```tsx\n * // Assuming a 'LedgerActor' has been setup and used to manage the actor store\n * const name = useActorStore(state => state.name);\n *\n * return <div>Canister Name: {name}</div>;\n * ```\n *\n * @see ActorManager for more details about the architecture and management of actor stores.\n * @see ActorState for the structure and possible states an actor can hold.\n */\nexports.useActorStore = __1.ActorHooks.useActorStore;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useActorState = void 0;\nconst __1 = require(\"..\");\n/**\n * Hook for accessing the current state of the actor, including the canister ID.\n *\n * @returns An object containing the current state of the actor from Zustand's store and the canister ID.\n * @example\n * ```tsx\n * function ActorStateComponent() {\n *   const { canisterId, initializing, error, initialized } = useActorState();\n *\n *   return (\n *    <div>\n *     <p>Canister ID: {canisterId}</p>\n *     <p>Initializing: {initializing.toString()}</p>\n *     <p>Initialized: {initialized.toString()}</p>\n *     <p>Error: {error?.message}</p>\n *   </div>\n *   );\n * }\n *```\n */\nexports.useActorState = __1.ActorHooks.useActorState;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useVisitMethod = void 0;\nconst __1 = require(\"..\");\n/**\n * Memoizes and returns a visit service function for a specific actor method.\n *\n * @param functionName The name of the actor method to visit.\n * @returns The visit service function for the specified method.\n */\nfunction useVisitMethod(functionName) {\n    return __1.ActorHooks.useVisitMethod(functionName);\n}\nexports.useVisitMethod = useVisitMethod;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useVisitService = void 0;\nconst __1 = require(\"..\");\n/**\n * Memoizes and returns a visit service function for a specific actor method.\n *\n * @param functionName The name of the actor method to visit.\n * @returns The visit service function for the specified method.\n */\nfunction useVisitService() {\n    return __1.ActorHooks.useVisitService();\n}\nexports.useVisitService = useVisitService;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useActorInterface = void 0;\nconst __1 = require(\"..\");\n/**\n *\n */\nfunction useActorInterface() {\n    return __1.ActorHooks.useActorInterface();\n}\nexports.useActorInterface = useActorInterface;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useMethod = void 0;\nconst __1 = require(\"..\");\n/**\n * Hook for making dynamically update or query calls to actors, handling loading states, and managing errors. It supports custom event handlers for loading, success, and error events.\n *\n * @param args {@link UseMethodParameters}.\n * @returns object {@link UseMethodReturnType}.\n * @example\n * ```tsx\n * function MethodCallComponent() {\n *   const { call, data, loading } = useMethod({\n *      functionName: 'updateUserProfile',\n *      args: ['123', { name: 'John Doe' }],\n *      onLoading: (loading) => console.log('Loading:', loading),\n *      onError: (error) => console.error('Error:', error),\n *      onSuccess: (data) => console.log('Success:', data),\n *   });\n *\n *  if (loading) return <p>Updating profile...</p>;\n *\n *  return (\n *    <div>\n *      <p>Updated Profile: {JSON.stringify(data)}</p>\n *      <button onClick={call}>Update</button>\n *    </div>\n *  );\n * }\n * ```\n */\nfunction useMethod(args) {\n    return __1.ActorHooks.useMethod(args);\n}\nexports.useMethod = useMethod;\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ActorHooks = exports.createActorContext = void 0;\nconst create_1 = require(\"./create\");\nObject.defineProperty(exports, \"createActorContext\", { enumerable: true, get: function () { return create_1.createActorContext; } });\n/** @ignore */\nexports.ActorHooks = (0, create_1.createActorContext)();\n__exportStar(require(\"./provider\"), exports);\n__exportStar(require(\"./hooks/useMethodNames\"), exports);\n__exportStar(require(\"./hooks/useQueryCall\"), exports);\n__exportStar(require(\"./hooks/useUpdateCall\"), exports);\n__exportStar(require(\"./hooks/useMethodAttributes\"), exports);\n__exportStar(require(\"./hooks/useActorStore\"), exports);\n__exportStar(require(\"./hooks/useActorState\"), exports);\n__exportStar(require(\"./hooks/useVisitMethod\"), exports);\n__exportStar(require(\"./hooks/useVisitService\"), exports);\n__exportStar(require(\"./hooks/useActorInterface\"), exports);\n__exportStar(require(\"./hooks/useMethod\"), exports);\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./useActor\"), exports);\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./context/actor/types\"), exports);\n__exportStar(require(\"./context/agent/types\"), exports);\n__exportStar(require(\"./context/adapter/types\"), exports);\n__exportStar(require(\"./helpers/types\"), exports);\n__exportStar(require(\"./hooks/types\"), exports);\n__exportStar(require(\"@ic-reactor/core/dist/types\"), exports);\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createReactorCore = exports.createCandidAdapter = exports.createAgentManager = exports.createActorManager = exports.createReactorStore = void 0;\nvar core_1 = require(\"@ic-reactor/core\");\nObject.defineProperty(exports, \"createReactorStore\", { enumerable: true, get: function () { return core_1.createReactorStore; } });\nObject.defineProperty(exports, \"createActorManager\", { enumerable: true, get: function () { return core_1.createActorManager; } });\nObject.defineProperty(exports, \"createAgentManager\", { enumerable: true, get: function () { return core_1.createAgentManager; } });\nObject.defineProperty(exports, \"createCandidAdapter\", { enumerable: true, get: function () { return core_1.createCandidAdapter; } });\nObject.defineProperty(exports, \"createReactorCore\", { enumerable: true, get: function () { return core_1.createReactorCore; } });\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.utils = exports.core = exports.types = exports.helpers = void 0;\n// Note: Order of exports is important\n__exportStar(require(\"./createReactor\"), exports);\n__exportStar(require(\"./context/actor\"), exports);\n__exportStar(require(\"./context/adapter\"), exports);\n__exportStar(require(\"./context/agent\"), exports);\n__exportStar(require(\"./hooks\"), exports);\nexports.helpers = __importStar(require(\"./helpers\"));\nexports.types = __importStar(require(\"./types\"));\nexports.core = __importStar(require(\"./core\"));\nexports.utils = __importStar(require(\"./utils\"));\n"],
  "mappings": "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",
  "names": ["create", "value", "exports", "exports", "exports", "exports", "value", "name", "canisterId", "value", "init_esm", "init_esm", "__classPrivateFieldSet", "__classPrivateFieldGet", "value", "init_esm", "__classPrivateFieldSet", "__classPrivateFieldGet", "init_esm", "PubKeyCoseAlgo", "init_esm", "init_ed25519", "value", "target", "value", "value", "__classPrivateFieldSet", "__classPrivateFieldGet", "esm_exports", "init_esm", "identity", "require_agent", "value", "__rest", "options", "identity", "__rest", "value", "__rest", "methodState", "_a", "rest", "value", "agent", "module", "exports", "require_types", "require_types", "require_types", "exports", "require_types", "exports", "exports", "createStoreImpl", "createStore", "init_vanilla", "useDebugValue", "value", "error", "useRef", "useDebugValue", "useSyncExternalStoreWithSelector", "value", "esm_exports", "createStore", "init_esm", "init_vanilla", "ReactExports", "useSyncExternalStoreExports", "value", "import_react", "ReactExports", "require_utils", "exports", "value", "__rest", "state", "_a", "value", "identity", "error", "exports", "__rest", "require_agent", "exports", "require_create", "__rest", "config", "require_provider", "require_adapter", "exports", "value", "__rest", "actorManager", "require_create", "__rest", "require_provider", "require_actor", "exports", "exports", "require_types", "require_types", "require_types", "require_types", "require_types", "require_types", "exports", "require_dist", "exports"]
}
